# Editor

- Editing and typesetting based on content blocks
- List outline, support with or without sub-level indentation
- Content block zoom, that is, each content block can be zoomed into focus
- Dynamic loading, solving large document jams
- Horizontal layout by dragging block icon

Formatting elements[^1]

Optimize typography[^48]

Outline by Heading and List[^51]

[^1]: # Formatting elements

    ## Inline elements

    - Block Ref[^2]
    - [Hyperlink](https://liuyun.io)
    - Picture

      Support direct copy and paste or drag and upload. After uploading, you can adjust the size by dragging the sidebar.

      ![](assets/siyuan-128-20210604092437-7iqzf90.png)
    - **Bold**
    - *Italic*
    - <u>Underline</u>
    - ~~Strikethrough~~
    - ==Mark==
    - <sup>Superscript</sup>
    - <sub>Subscript</sub>
    - <kbd>Keymap</kbd>
    - #Tag#
    - `Inline Code`
    - $a^2 + b^2 = \color{red}c^2$
    - Memo<sup>(This is a memo.)</sup>
    - **Color 1** **Color 2**  **Color 3** **Color 4** **Color 5** **Color 6** **Color 7** **Color 8** **Color 9** **Color 10** **Color 11** **Color 12** **Color 13**

      **Style 1** **Style 2**
    - Trigger an emoji search by typing `:` followed by a letter üòÑ üòÜ üòµ üò≠ üò∞ üòÖ üò¢ üò§ üòç üòåüëç üëé üíØ üëè üîî üéÅ ‚ùì üí£ ‚ù§Ô∏è ‚òïÔ∏è üåÄ üôá üíã üôè üí¢

    ## Super block

    Paragraph 1

    Paragraph 2 Center

    Paragraph 3

    Paragraph 4 Right

    ## Embed block

    In ((20230415111951-vt4y4gg "SiYuan")), the only important core concept is ((20200924101106-19z4kaa "Content block")). The content block can be formed through the formatting format, so that we can organize our thoughts and knowledge at the block-level granularity, and it is also convenient for reading and outputting long content.

    ## Heading block

    ## Ordered, unordered, task list

    ### Unordered List

    - Java

      - Spring

        - IoC
        - AOP
    - Go

      - gofmt
      - Wide
    - Node.js

      - KoaExpress
      - Express

    ### Ordered List

    1. Node.js

        1. Express
        2. Koa
        3. Sails
    2. Go

        1. gofmt
        2. Wide
    3. Java

        1. Latke
        2. IDEA

    ### Task list

    - [X] Release SiYuan
    - [ ] Book a dentist

    ## Blockquote

    > Note that it is not a content block ref, but a block quote (Blockquote).
    >

    ## Code block

    If the language name is followed by ```, it can have the effect of syntax highlighting, for example:

    ### Demonstrate Go code highlighting

    ```go
    package main

    import "fmt"

    func main() {
    fmt.Println("Hello, World")
    }
    ```
    ### Demo Java highlighting

    ```java
    public class HelloWorld {

        public static void main(String[] args) {
            System.out.println("Hello World!");
        }

    }
    ```
    > Tip: Language names support the following: `ruby`, `python`, `js`, `html`, `erb`, `css`, `coffee`, `bash`, `json`, `yml`, ` xml` ...
    >

    ## Table

    |header 1|header 2|
    | ----------| ----------|
    |cell 1|cell 2|
    |cell 3|cell 4|
    |cell 5|cell 6|

    ## HTML block

    <div>
    <ruby>
    ‰Ω†<rt>n«ê</rt>
    „ÄÄÂ•Ω<rt>„ÄÄh«éo</rt>
    „ÄÄ‰∏ñ<rt>„ÄÄsh√¨</rt>
    „ÄÄÁïå<rt>„ÄÄji√®</rt>
    </ruby><br>
    Hello World
    </div>

    Please refer to HTML Block Notes[^87] for more details.

    ## Thematic break

    ---

    ## Mathematical formula

    $$
    \frac{1}{
      \Bigl(\sqrt{\phi \sqrt{5}}-\phi\Bigr) e^{
      \frac25 \pi}} = 1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {
        1+\frac{e^{-6\pi}}
        {1+\frac{e^{-8\pi}}{1+\cdots}}
      }
    }
    $$

    ## IFrame

    <iframe src="https://player.bilibili.com/player.html?bvid=BV1ov41187qM&amp;page=1&amp;high_quality=1&amp;as_wide=1&amp;allowfullscreen=true&amp;aid=247401039&amp;cid=319662466&amp;autoplay=0" data-src="//player.bilibili.com/player.html?aid=247401039&amp;bvid=BV1ov41187qM&amp;cid=319662466&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 981px; height: 440px;" sandbox="allow-top-navigation-by-user-activation allow-same-origin allow-forms allow-scripts allow-popups"></iframe>

    ## Video

    <video controls="controls" src="assets/formatting_elements-20210607225733-o1keasx.mp4" data-src="assets/formatting_elements-20210607213508-y2r3y55-20210608113914-q11ou4j.mp4" style="width: 640px; height: 327px;"></video>

    ## Audio

    <audio controls="controls" src="assets/record1623077643753-20210607225403-7cg1jkq.wav" data-src="assets/record1623077643753-20210607225403-7cg1jkq-20210608121458-mc4mcvz.wav"></audio>

    ## Mind map

    ```mindmap
    - Tutorial
    - Grammar guidance
      - General content
      - Mention users
      - Emoji
        - Some emoji examples
      - Heading-Heading 3
        - Heading 4
          - Heading 5
            - Heading 6
      - Picture
      - Code block
        - Normal
        - Syntax highlighting support
          - Demonstrate Go code highlighting
          - Demo Java highlighting
      - Ordered, disordered, task list
        - Unordered list
        - Ordered list
        - task list
      - Form
      - Hide details
      - Paragraph
      - Link reference
      - Mathematical formula
      - Mind Map
      - Flow chart
      - Timing diagram
      - Gantt chart
      - Chart
      - Staff
      - Graphviz
      - Multimedia
      - Footnote
      - Shortcuts
    ```
    Use Markdown list syntax to render the mind map.

    ## Flow chart

    ```mermaid
    graph TB
        c1-->a2
        subgraph one
        a1-->a2
        end
        subgraph two
        b1-->b2
        end
        subgraph three
        c1-->c2
        end
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Timing diagram

    ```mermaid
    sequenceDiagram
        Alice->>John: Hello John, how are you?
        loop Every minute
            John-->>Alice: Great!
        end
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Gantt chart

    ```mermaid
    gantt
        title A Gantt Diagram
        dateFormat YYYY-MM-DD
        section Section
        A task :a1, 2019-01-01, 30d
        Another task :after a1, 20d
        section Another
        Task in sec :2019-01-12, 12d
        another task: 24d
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Class diagram

    ```mermaid
    classDiagram
    Class01 <|-- AveryLongClass : Cool
    Class03 *-- Class04
    Class05 o-- Class06
    Class07 .. Class08
    Class09 --> C2 : Where am i?
    Class09 --* C3
    Class09 --|> Class07
    Class07 : equals()
    Class07 : Object[] elementData
    Class01 : size()
    Class01 : int chimp
    Class01 : int gorilla
    Class08 <--> C2: Cool label
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## User Journey Diagram

    ```mermaid
    journey
        title My working day
        section Go to work
          Make tea: 5: Me
          Go upstairs: 3: Me
          Do work: 1: Me, Cat
        section Go home
          Go downstairs: 5: Me
          Sit down: 5: Me
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Git graph

    ```mermaid
        gitGraph
           commit
           commit
           branch develop
           commit
           commit
           commit
           checkout main
           commit
           commit
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Entity Relationship Diagram

    ```mermaid
    erDiagram
        CUSTOMER ||--o{ ORDER : places
        ORDER ||--|{ LINE-ITEM : contains
        CUSTOMER }|..|{ DELIVERY-ADDRESS : uses
    ```
    Please refer to [Mermaid](https://mermaid.js.org/) for the syntax.

    ## Chart

    ```echarts
    {
      "title": { "text": "Latest 30 days" },
      "backgroundColor": "transparent",
      "tooltip": { "trigger": "axis", "axisPointer": { "lineStyle": { "width": 0 } } },
      "legend": { "data": ["Articles", "Users", "Replies"] },
      "xAxis": [{
          "type": "category",
          "boundaryGap": false,
          "data": ["2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07"],
          "axisTick": { "show": false },
          "axisLine": { "show": false }
      }],
      "yAxis": [{ "type": "value", "axisTick": { "show": false }, "axisLine": { "show": false }, "splitLine": { "lineStyle": { "color": "rgba(0, 0, 0, .38)", "type": "dashed" } } }],
      "series": [
        {
          "name": "Articles", "type": "line", "smooth": true, "itemStyle": { "color": "#d23f31" }, "areaStyle": { "normal": {} }, "z": 3,
          "data": ["18","14","22","9","7","18","10","12","13","16","6","9","15","15","12","15","8","14","9","10","29","22","14","22","9","10","15","9","9","15","0"]
        },
        {
          "name": "Users", "type": "line", "smooth": true, "itemStyle": { "color": "#f1e05a" }, "areaStyle": { "normal": {} }, "z": 2,
          "data": ["31","33","30","23","16","29","23","37","41","29","16","13","39","23","38","136","89","35","22","50","57","47","36","59","14","23","46","44","51","43","0"]
        },
        {
          "name": "Replies", "type": "line", "smooth": true, "itemStyle": { "color": "#4285f4" }, "areaStyle": { "normal": {} }, "z": 1,
          "data": ["35","42","73","15","43","58","55","35","46","87","36","15","44","76","130","73","50","20","21","54","48","73","60","89","26","27","70","63","55","37","0"]
        }
      ]
    }
    ```
    It can be defined in the following three formats:

    - JSON

      ```json
      {
          "propName": "propValue"
      }
      ```
    - JavaScript Object

      ```javascript
      {
          propName: 'propValue',
      }
      ```
    - An Immediately-Invoked Function Expression (IIFE)  that returns a JavaScript Object

      ```javascript
      (() => {
          const option = {};
          option.propName = `propValue`;
          return option;
      })()
      ```

    For the specific syntax, please refer to [ECharts](https://echarts.apache.org/zh/index.html).

    ## Staff

    ```abc
    %%params {tablature: [{instrument: "violin"}]}
    X: 24
    T: Clouds Thicken
    C: Paul Rosen
    S: Copyright 2005, Paul Rosen
    M: 6/8
    L: 1/8
    Q: 3/8=116
    R: Creepy Jig
    K: Em
    |:"Em"EEE E2G|"C7"_B2A G2F|"Em"EEE E2G|\
    "C7"_B2A "B7"=B3|"Em"EEE E2G|
    "C7"_B2A G2F|"Em"GFE "D (Bm7)"F2D|\
    1"Em"E3-E3:|2"Em"E3-E2B|:"Em"e2e gfe|
    "G"g2ab3|"Em"gfeg2e|"D"fedB2A|"Em"e2e gfe|\
    "G"g2ab3|"Em"gfe"D"f2d|"Em"e3-e3:|
    ```
    You can add `%%params JSON` in the first line to use `JSON` as a parameter of `renderAbc options`.

    Please refer to abcjs (github repo: paulrosen/abcjs) for the syntax.

    ## Graphviz

    ```graphviz
    digraph finite_state_machine {
         rankdir=LR;
         size="8,5"
         node [shape = doublecircle]; S;
         node [shape = point ]; qi

         node [shape = circle];
         qi -> S;
         S -> q1 [label = "a" ];
         S -> S [label = "a" ];
         q1 -> S [label = "a" ];
         q1 -> q2 [label = "ddb" ];
         q2 -> q1 [label = "b" ];
         q2 -> q2 [label = "b" ];
    }
    ```
    Please refer to [Graphviz](https://graphviz.org) for the syntax.

    ## Flowchart

    ```flowchart
    st=>start: Start
    op=>operation: Your Operation
    cond=>condition: Yes or No?
    e=>end

    st->op->cond
    cond(yes)->e
    cond(no)->op
    ```
    Please refer to [flowchart.js](https://mermaid.js.org/) for the syntax.

    ## PlantUML

    ```plantuml
    @startuml component
    actor client
    node app
    database db
    db -> app
    app -> client
    @enduml
    ```
    Please refer to [PlantUML](https://plantuml.com) for the syntax.


[^2]: # Please Start Here

    > When you close SiYuan Notes, the User Guide will be automatically closed. You can click <kbd>Main Menu</kbd> - <kbd>User Guide</kbd> to view it again
    >

    ## üçî Start eating

    - Create a new notebook in the <kbd>More</kbd> menu of the doc tree panel, and create a new doc under the notebook
    - Enter <kbd>/</kbd>‚Äã in the editor to trigger the function menu
    - Navigate in the content block[^3] and Window and tab[^15]

    ## üçπ Drink recommend

    - FAQ[^17]
    - [Origin](https://ld246.com/article/1619868273581) (in Chinese)

    ## üèòÔ∏è Our home

    - [LiuYun](https://liuyun.io/)
    - [Twitter](https://twitter.com/b3logos)

    ## üíå Contribution

    - Open source[^42]
    - [Pay to support development](https://b3log.org/siyuan/en/pricing.html)

    We hope that in the coming time, SiYuan can become an efficient tool for your life and study, helping you achieve more goals and plansüôè

    ---

    ## üç´ Content block

    In SiYuan[^43], the only important core concept is Content block[^44]. The content block can be formed through the formatting format, so that we can organize our thoughts and knowledge at the block-level granularity, and it is also convenient for reading and outputting long content.

    Content block[^44]

    all types of blocks[^8]

    ref[^4]

    Navigate in the content block[^3]

    Conversion of Document and Heading[^46]

    Embed Content Block[^10]

    Content Block Attribute[^47]

    ## üç± Editor

    Formatting elements[^1]

    Optimize typography[^48]

    Outline by Heading and List[^51]

    ## üîç Advanced search

    Query syntax[^52]

    Database table[^53]

    Type filtering[^54]

    Ignore indexing[^55]

    Ignore search[^56]

    ## üé® Custom Appearance

    Icon[^57]

    Theme[^58]

    ## üöå General Operations

    workspace[^18]

    Import and Export[^59]

    Web Clipping[^60]

    Window and tab[^15]

    Daily notes[^61]

    Bookmark and Tag[^63]

    Database[^64]

    widgets[^24]

    plugins[^25]

    assets[^20]

    template snippets[^23]

    PDF annotation[^65]

    Virtual reference[^66]

    Hyperlink[^67]

    Data history[^49]

    flashcards[^22]

    Artificial Intelligence[^68]

    Shortcuts[^69]

    use on browser[^16]

    Docker hosting[^70]

    here[^71]

    Kernel API[^73]

    Share document[^74]

    Publish service[^75]

    ## üëë Member's privileges

    ### Cloud Services[^29]

    Storage[^30]

    Data sync[^31]

    Data backup[^34]

    Assets hosting[^37]

    Inbox[^38]

    limitations[^39]

    ### Function Features[^40]

    Connect with third-party cloud storage[^26]

    Search asset content[^41]

    ## Other

    Mobile App[^76]

    FAQ[^17]

    Data Security[^77]

    Glossary[^80]

    Performance Optimization[^83]

    Extend development[^84]

    Privacy Policy and User Agreement[^85]

    Acknowledgements[^86]


[^3]: # Navigate in the Content Block

    ## Link

    There are two types of links in the document content:

    ‚Äç

    - Standard URL hyperlinks, opened with a browser, used for Internet resource access
    - The content block link established by ref[^4] is used for two-way linking within SiYuan

    ## Zoom focus

    - After selecting focus in the right-click drop-down menu on the block icon, the editor will focus on the content block
    - Jump in context through the breadcrumb navigation at the top of the editor

    ## Graph

    The relationship diagram is divided into document level and global. The relationship diagram of the document is expanded based on the current document block and presents all the content blocks (forward links and reverse links) related to the document; the global relationship diagram is all the block and link relationships in all notebooks.

    ‚Äç

    Hold down <kbd>Ctrl</kbd> and click on the node: jump to the node.

    ## Backlinks

    Backlinks are document-level, listing the blocks in the current document where content blocks are quoted and mentioned.

    ### Links

    - Hovering the mouse over the reference block icon will pop up a preview floating window
    - Click the reference block in the backlink list to jump

    ### Mentions

    Mentions are searched using the content block name, alias, reference anchor text and document name in the current document as keywords (the search scope can be set in <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Backlink mentions</kbd>), the search results are blocks of content that contain these keywords.

    ‚Äã#Note#: Mention search will only search in normal text, not in line-level elements such as bold and italics, and block-level elements such as code blocks and charts. The rule are the same as the detection rules of virtual reference[^7].


[^4]: # Ref Content Block

    ## Overview

    After entering `((`, the content block reference search will be triggered. Continue to input as the search keyword. In the search results, use the up and down keys to select and press Enter to complete the content block reference. After the content block reference is established, hover the mouse. After the anchor text is placed, the preview layer will pop up, showing the referenced content block (definition block). #Content Block/Reference#

    ## Direction of the ref link

    - Forwardlink, that is, which other content blocks are used in the current content block
    - Backlink, that is, the current content block is used by those other content blocks

    The forward link is included in the content of the current block, which we can see intuitively. Backlinks need to be searched in other documents to know, and it is precisely this information that is more valuable to us. We can use the following two ways to help us better grasp the knowledge points or diverge ideas:

    - Graph[^5]: browse forward and backward link relationships between content blocks
    - Backlinks[^6]: Display the backlinks of the current content block as a text list

    ## Anchor text

    Anchor text is the text you see when rendering a reference. It is divided into static anchor text and dynamic anchor text:

    - Static anchor text: It will not change with the content of the definition block, that is, the specified content will be displayed fixedly
    - Dynamic anchor text: follow the content of the defined block, the maximum length can be set in <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>The maximum length of block ref dynamic anchor text</kbd> , supports up to `5120` characters

    Here's how to modify anchor text:

    - Move the cursor caret into the reference element and modify the content directly, which will set the reference's anchor text to static anchor text
    - Right-click the reference element and modify the anchor text in the pop-up menu, so that the anchor text obtained is also static anchor text
    - Clear the anchor text in the pop-up menu after right-clicking the reference element, this will use dynamic anchor text

    In the `((` search result list:

    - Direct <kbd>Enter</kbd> or <kbd>Click</kbd> will use dynamic anchor text
    - Press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> or <kbd>Ctrl</kbd>+<kbd>Click</kbd> to use static anchor text

    ## Filter

    After enabling <kbd>[[ only search documents</kbd> in <kbd>Settings</kbd> - <kbd>Editor</kbd>: 

    - Use `((`‚Äã to search in all types of blocks[^8]
    - Use `[[` to search only doc blocks[^14]

    ## Syntax

    In addition to using `((` to trigger a reference search, you can also use the syntax `((id "anchor text"))` directly.

    - Use `"` to wrap anchor text as static anchor text
    - Use `'` to wrap anchor text as dynamic anchor text, it will be automatically rewritten when the index is rebuilt

    The main scenario of using the syntax directly is to create a reference through an external tool or API. In most cases, we mainly use `((` to trigger a reference search to create a reference.


[^5]: ## Graph

    The relationship diagram is divided into document level and global. The relationship diagram of the document is expanded based on the current document block and presents all the content blocks (forward links and reverse links) related to the document; the global relationship diagram is all the block and link relationships in all notebooks.

    ‚Äç

    Hold down <kbd>Ctrl</kbd> and click on the node: jump to the node.


[^6]: ## Backlinks

    Backlinks are document-level, listing the blocks in the current document where content blocks are quoted and mentioned.

    ### Links

    - Hovering the mouse over the reference block icon will pop up a preview floating window
    - Click the reference block in the backlink list to jump

    ### Mentions

    Mentions are searched using the content block name, alias, reference anchor text and document name in the current document as keywords (the search scope can be set in <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Backlink mentions</kbd>), the search results are blocks of content that contain these keywords.

    ‚Äã#Note#: Mention search will only search in normal text, not in line-level elements such as bold and italics, and block-level elements such as code blocks and charts. The rule are the same as the detection rules of virtual reference[^7].


[^7]: ## Detection rules

    Search based on the anchor text/definition block text of the existing block ref, the name and alias of the block as keywords. If these keywords are searched on the plain text element of the current content block, it will be used as a virtual reference.

    The keyword search scope can be adjusted in <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Virtual reference</kbd>.


[^8]: # Content Block Type

    ## Content Block type cheatsheet

    Hover the mouse over the content block and the corresponding icon will appear on the left side of the content block. For format usage, please refer to Formatting elements[^1].

    |Icon|Type|Meta Type[^9]|
    | --------------------------------------------------------------------------------| ----------------------| -----------------|
    |‚Äã‚Äã‚Äã‚Äã![paragraph](assets/paragraph-20210512171139-2x8lgt5.svg)|Paragraph block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![heading](assets/heading-20210512171149-56npt09.svg)|Heading block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![math-block](assets/math-block-20210512171155-9w2eti5.svg)|Math Formula block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![code-block](assets/code-block-20210512171201-pw7hrv2.svg)|Code block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![table](assets/table-20210512171208-hgfm17w.svg)|Table block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![embed-block](assets/embed-block-20250330183922-6b1vv79.svg)|Embed block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![html-block](assets/html-block-20220429115636-e80k6ty.svg)|HTML block|Leaf block|
    |‚Äã‚Äã‚Äã‚Äã![unordered-list](assets/unordered-list-20210512171214-90nb6w0.svg)|Unordered List block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![ordered-list](assets/ordered-list-20210512171220-ghfzj2f.svg)|Ordered List block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![task-list](assets/task-list-20210512171226-br51zxn.svg)|Task list block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![list-item](assets/list-item-20210512171231-2yc3wfd.svg)|List Item block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![blockquote](assets/blockquote-20210512171236-9dl6ui9.svg)|Blockquote block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![super-block](assets/super-block-20210512171243-ydsukhs.svg)|Super block|Container block|
    |‚Äã‚Äã‚Äã‚Äã![doc](assets/doc-20210512171251-8qzw4l4.svg)|Document block|Container block|

    ## Details of content block types

    Below we introduce the details of these content block types. #Content Block/Type#

    ### Paragraph block

    ![paragraph](assets/paragraph-20210512171139-2x8lgt5.svg)

    Here is a sample paragraph.

    Press <kbd>Enter</kbd> directly after a paragraph to form a new paragraph.

    ### Heading block

    ![heading](assets/heading-20210512171149-56npt09.svg)

    The above is the heading block, which supports level one to six.

    ‚Äã#Note#:

    It is not recommended to use first-level headings in the text. It is recommended to use second-level heading as top-level headings. In this way, <kbd>Settings</kbd> - <kbd>Export</kbd> - <kbd>Add document title</kbd>, the overall heading hierarchy will comply with normal logic when exported.

    ### Mathematical formula block

    ![math-block](assets/math-block-20210512171155-9w2eti5.svg)

    $$
    a^2 + b^2 = c^2
    $$

    ### Code block

    ![code-block](assets/code-block-20210512171201-pw7hrv2.svg)

    ```js
    function hello() {}
    ```
    ### Table block

    ![table](assets/table-20210512171208-hgfm17w.svg)

    |Column 1|Column 2|
    | ------------------| ------------------|
    |Row One Column One|Row One Column Two|
    |Row Two Column One|Row Two Column Two|

    If you need to use `|` in a table block, please use `\` to escape it, that is, you need to enter `\|`.

    If you need to wrap a line in a table block, use <kbd>Shift</kbd>+<kbd>Enter</kbd>.

    ### Embed block

    ![embed-block](assets/embed-block-20250330183922-6b1vv79.svg)

    See Embed Content Block[^10].

    ### HTML block

    ![html-block](assets/html-block-20220429115636-e80k6ty.svg)

    <ruby>
    ‰Ω†<rt>n«ê</rt>
    „ÄÄÂ•Ω<rt>„ÄÄh«éo</rt>
    „ÄÄ‰∏ñ<rt>„ÄÄsh√¨</rt>
    „ÄÄÁïå<rt>„ÄÄji√®</rt>
    </ruby><br>
    Hello World

    ‚Äã#Note#:

    - When using HTML blocks, the code in them will be security filtered by default. If filtering is not required, please enable <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Allow execution of scripts within HTML blocks</kbd>, but please confirm that the code is safe before opening it to avoid cross-site scripting attacks (XSS).
    - Because the Markdown specification has complicated parsing rules for HTML blocks, it is recommended to use `<div></div>` to wrap HTML code and remove blank lines.

    ### Unordered List Block

    ![unordered-list](assets/unordered-list-20210512171214-90nb6w0.svg)

    - List item one
    - List item two

    The unordered list block is a type Meta Type[^9].

    The unordered list block can only contain list item blocks, and neighboring unordered list blocks are widely spaced.

    ### Ordered List Block

    ![ordered-list](assets/ordered-list-20210512171220-ghfzj2f.svg)

    1. List item one
    2. List item two

    The ordered list block is a type Meta Type[^9].

    The ordered list block can only contain list item blocks, and neighboring ordered list blocks are widely spaced.

    ### Task list block

    ![task-list](assets/task-list-20210512171226-br51zxn.svg)

    - [X] To do one
    - [ ] To do two

    The task list block is a type Meta Type[^9].

    The task list block can only contain list item blocks, and neighboring task list blocks are widely spaced.

    ### List item block

    ![list-item](assets/list-item-20210512171231-2yc3wfd.svg)

    The basic usage of outline notes can be realized through the list item block. The list item block is a type Meta Type[^9].

    List item blocks are contained within a list block, and neighboring list item blocks are less widely spaced.

    If you need to wrap a line in a list item, use <kbd>Shift</kbd>+<kbd>Enter</kbd>.

    ### Blockquote Block

    ![blockquote](assets/blockquote-20210512171236-9dl6ui9.svg)

    > Note that it is not a content block ref, but a block quote (Blockquote).
    >

    The block reference block is a type Meta Type[^9].

    ### Super block

    ![super-block](assets/super-block-20210512171243-ydsukhs.svg)

    The super block is a type Meta Type[^9]. It can be used to combine continuous content blocks in a document, and also to support horizontal typesetting.

    ### Documentation block

    ![doc](assets/doc-20210512171251-8qzw4l4.svg)

    The entire document is a block, and the document block is a type Meta Type[^9].

    ## Content Block meta type

    The content block is logically divided into a leaf block and a container block. The leaf block cannot contain other blocks, and the container block can contain other blocks:

    - List block: can only contain list item blocks
    - List item block: can contain any other non-document blocks
    - Blockquote block: can contain any non-document blocks
    - Super block: can contain any non-document blocks
    - Document block: can contain any non-document blocks


[^9]: ## Content Block meta type

    The content block is logically divided into a leaf block and a container block. The leaf block cannot contain other blocks, and the container block can contain other blocks:

    - List block: can only contain list item blocks
    - List item block: can contain any other non-document blocks
    - Blockquote block: can contain any non-document blocks
    - Super block: can contain any non-document blocks
    - Document block: can contain any non-document blocks


[^10]: # Embed Content Block

    ## Overview

    The embed content block is mainly used to summarize the required content blocks, use `{{` and `}}` to wrap SQL scripts on a single line: `{{ SELECT * FROM blocks WHERE content LIKE'%Keyword%' }}`, database table please refer to here[^11]. #Content Block/Embed#

    ## Example

    - Query list items that contain `content block`:

      ```sql
      {{ SELECT * FROM blocks WHERE content LIKE '%content block%' AND type = 'i' }}
      ```
    - The query content contains both `content block` and `reference` paragraph blocks:

      ```sql
      {{ SELECT * FROM blocks WHERE content LIKE '%content block%' AND content LIKE '%reference%' AND type = 'p') }}
      ```
    - The query content contains heading blocks of both `content block` and `embed`, and the first 2 items are selected in descending order of update time:

      ```sql
      {{ SELECT * FROM blocks WHERE content LIKE '%content block%' AND content LIKE '%embed%' AND type ='h' ORDER BY updated DESC LIMIT 2 }}
      ```

    ### Case 1

    The query contains paragraph blocks of both `In SiYuan` and `core concept` text, and excludes the current document (otherwise the paragraph block will also be included in the result set, because the current paragraph also contains these two texts. The following case is similar):

    ### Case 2

    Query for paragraph blocks containing the tag `#Content Block/Embed#` or `#Content Block/Reference#`:

    After entering `((`, the content block reference search will be triggered. Continue to input as the search keyword. In the search results, use the up and down keys to select and press Enter to complete the content block reference. After the content block reference is established, hover the mouse. After the anchor text is placed, the preview layer will pop up, showing the referenced content block (definition block). #Content Block/Reference#

    ### Case 3

    Sometimes we may need to randomly roam and display content blocks to facilitate review.

    ![embed-block](assets/embed-block-20250330183922-6b1vv79.svg)

    Panels refer to functional areas opened from the dock, such as the document tree, outline, and backlinks.

    ### Tab

    Tabs are similar to tabs on a browser, and different types of tabs have different functions.

    #### Editor tab

    Used to load the docs editor.

    #### PDF tab

    Used to load PDFs.

    #### Search tab

    Open the search interface in a tab, so that users can use other tabs at the same time without being blocked by the search window for other work.

    #### Spaced Repeatition tab

    Open the spaced repetition interface in a tab.

    ### Case 4

    To query the unfinished task list items, you need to use the `markdown` field instead of the `content` field:

    - [ ] ‚Äç

    - [ ] alisdfasljdfasdfl

    - [ ] To do two

    - [ ] Book a dentist


[^11]: ## Table `blocks`

    This table is used to store content block data.

    |Field|Description|
    | ----------: | --------------------------------------------------------------------------------|
    |id|Content block ID|
    |parent_id|Parent block ID, If the content block is a document block, this field is empty|
    |root_id|Root block ID, which is the document block ID|
    |hash|Summary checksum of the content|
    |box|Notebook ID|
    |path|The path of the document where the content block is located|
    |hpath|The path to the document where the human-readable content block is located|
    |name|Content block name|
    |alias|Content block alias|
    |memo|Content block memo|
    |content|Text with Markdown markers removed|
    |fcontent|The first child block text with Markdown markers removed|
    |markdown|Text with complete Markdown markers|
    |length|Length of `fcontent`‚Äã|
    |type|Content block type, please refer to here[^12]|
    |subtype|Content block subtype, please refer to here[^13]|
    |ial|Inline attributes list, like  `{: name="value"}`‚Äã|
    |sort|For sorting, the smaller the value, the higher the sort|
    |created|Create time, for example `20221013202001`‚Äã|
    |updated|Update time, for example `20221013202001`‚Äã|

[^12]: ## Type field `type`

    - ‚Äã`d` Document block (Only search on the document name, will not search for the document containing content blocks)
    - ‚Äã`h` Heading block (Search only on the heading name, not the content blocks below the heading block)
    - ‚Äã`l` List block (including ordered list block, unordered list block and task list block)
    - ‚Äã`i` List item block
    - ‚Äã`b` Blockquote block
    - ‚Äã`s` Super block
    - ‚Äã`p` Paragraph block
    - ‚Äã`c` Code block
    - ‚Äã`m` Formula block
    - ‚Äã`t` Table block
    - ‚Äã`av` Database block
    - ‚Äã`query_embed` Embed block
    - ‚Äã`video` Video block
    - ‚Äã`audio` Audio block
    - ‚Äã`widget` Widget block
    - ‚Äã`iframe` IFrame block
    - ‚Äã`html` HTML block
    - ‚Äã`tb` Thematic break


[^13]: ## Subtype field `subtype`

    List block / List item block subtypes:

    - `o`ÔºöOrdered
    - `u`ÔºöUnordered
    - `t`ÔºöTask

    Heading subtypes:

    - `h1`: Level 1
    - `h2`: Level 2
    - `h3`: Level 3
    - `h4`: Level 4
    - `h5`: Level 5
    - `h6`: Level 6

    Other types of content blocks have no subtypes.


[^14]: ### Documentation block

    ![doc](assets/doc-20210512171251-8qzw4l4.svg)

    The entire document is a block, and the document block is a type Meta Type[^9].


[^15]: # Window and Tab

    SiYuan supports multiple windows and multiple tabs, so that you can edit and view documents easily.

    The tabs support up and down and left and right split screens, and all open tabs are synchronized in real time. For example, if you open multiple tabs for the same document, after editing and saving one of the tabs, the other tabs will also automatically synchronize the latest content to avoid dirty data overwriting while enjoying the convenience of multiple openings.

    Except that the document is saved synchronously, the associated rendering generated after saving is also synchronous. The preview of the content block and the relationship diagram related to the document are refreshed in real time, which can eliminate interference to the minimum and let us focus on the notebook.

    In addition to split-screen operation, the tabs also support drag and drop, so that we can arrange the entire interface as we want, record notes and organize knowledge in our most comfortable layout.

    If the screen of the device you are using is small, you can consider use on browser[^16], in this way, the overall interface switching can be performed through the browser instance. If you only need to convert the tab into an independent window, you can right-click on the tab <kbd>Move to New Window</kbd>, or drag the tab to a place outside the current window and release the drag, this also converts the tab into a separate window.


[^16]: # Use on browser

    ## Browser usage

    In <kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Use on browser</kbd> - <kbd>Open browser</kbd>, you can directly use SiYuan on the browser, if you need to use it in the local area network, replace `127.0.0.1` with the local area network IP address.

    In addition to the use of the local LAN, the use of the public network can be achieved by the following two methods:

    - Publish local kernel services on the public network through the "intranet penetration" technology (more troublesome and unstable, not recommended)
    - Build your own SiYuan Server (recommended)

    Before embarking on these two solutions, please start with understanding SiYuan Technical Architecture (github repo: siyuan-note/siyuan).

    ### Access authentication

    In <kbd>Settings</kbd> - <kbd>About</kbd>, you can configure the browser access authentication password. Leaving it blank means that authentication is not enabled. This is more useful in open networks (such as office spaces and public networks), and only after authentication can you enter the work space.

    ‚Äç


[^17]: # FAQ

    ## How does SiYuan store data?

    The data is saved in the workspace[^18] folder, in the workspace/data/ folder:

    - ‚Äã`assets` is used to save all inserted assets[^20]
    - ‚Äã`emojis` is used to save emoji images
    - ‚Äã`snippets` is used to save code snippets
    - ‚Äã`storage` is used to save query conditions, layouts and flashcards[^22], etc.
    - ‚Äã`templates` is used to save template snippets[^23]
    - ‚Äã`widgets` is used to save widgets[^24]
    - ‚Äã`plugins` is used to save plugins[^25]
    - ‚Äã`public` is used to save public data
    - The rest of the folders are the notebook folders created by the user, files with the suffix of `.sy`‚Äã‚Äã‚Äã in the notebook folder are used to save the document data, and the data format is JSON

    ## Does it support data synchronization through a third-party sync disk?

    Data synchronization through third-party synchronization disks is not supported, otherwise data may be corrupted. 

    Although it does not support third-party sync disks, it supports Connect with third-party cloud storage[^26].

    In addition, you can also consider manually exporting and importing data to achieve data synchronization:

    - Desktop: <kbd>Settings</kbd>‚Äã - <kbd>Export</kbd>‚Äã - <kbd>Export Data</kbd>‚Äã / <kbd>Import Data</kbd>‚Äã
    - Mobile: <kbd>Right column</kbd> - <kbd>About</kbd> - <kbd>Export Data</kbd> / <kbd>Import Data</kbd>‚Äã

    On macOS, SiYuan will access the Desktop, Documents, and iCloud drive folders to detect whether the workspace is placed under the iCloud synchronization path. Please rest assured that SiYuan will never snoop on your personal data.

    ## Is SiYuan open source?

    SiYuan is completely open source, and the complete source code can be found on GitHub.

    ## How to upgrade to a new version?

    - If installed via app store, please update via app store
    - If it is installed through the installation package on the desktop, you can open the option of <kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Automatically download update installation package</kbd>, so that SiYuan will automatically download The latest version of the installation package and prompts to install
    - If it is installed by manual installation package, please download the installation package again to install

    You can <kbd>Check update</kbd> in <kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Current Version</kbd>, or pay attention to [Official website](https://b3log.org/siyuan/) to get the new version.

    ## What if some blocks (such as paragraph blocks in list items) cannot find the block icon?

    The first sub-block under the list item is the block icon omitted. You can move the cursor into this block and trigger its block menu with <kbd>Ctrl+/</kbd> .

    ## What should I do if the data repo key is lost?

    - If the data repo key is correctly initialized on multiple devices before, the key is the same on all devices and can be set in <kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Data repo key</kbd> - <kbd>Copy key string</kbd> retrieve
    - If it has not been configured correctly before (for example, the keys on multiple devices are inconsistent) or all devices are unavailable and the key string cannot be obtained, you can reset the key by following the steps below:

      1. Manually back up the data, you can use <kbd>Export Data</kbd> or directly copy the `workspace/data/` folder on the file system
      2. <kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Data rep key</kbd> - <kbd>Reset data repo</kbd>
      3. Reinitialize the data repo key. After initializing the key on one device, other devices import the key
      4. The cloud uses the new synchronization directory, the old synchronization directory is no longer available and can be deleted
      5. The existing cloud snapshots are no longer available and can be deleted

    ## Do I need to pay for it?

    Most features are free, even for commercial use.

    Member&apos;s privileges[^28] can only be used after payment, please refer to [Pricing](https://b3log.org/siyuan/en/pricing.html).

    ## Origin of the name "SiYuan"

    The name "SiYuan" comes from the Chinese idiom "È•ÆÊ∞¥ÊÄùÊ∫ê", which means "when drinking water, one should remember where it comes from" and is used to describe the virtues of not forgetting one's roots and gratitude.

    We hope that users of SiYuan note-taking software for knowledge management will not forget the sources and connections of their knowledge, and more importantly, will not forget to contribute to society and all of humanity with what they have learned.


[^18]: # Workspace

    ## Overview

    The workspace is used to save data, history, configuration and files needed at runtime.

    - Different workspaces are isolated from each other by file system folders
    - A workspace can only be served by one kernel process

    ## Switch workspace

    - On the desktop, multiple workspaces can be opened in the drop-down menu on the left side of the top bar

      If your multiple workspaces need to be started frequently, you can consider creating a different startup entry for each workspace and specify the startup parameter `--workspace="Absolute-path-of-the-workspace"`(Please use `"` to enclose the path). For example, multiple shortcuts can be copied on a Windows system, and each Shortcut - Property - Target is followed by a workspace path parameter, such as `--workspace="F:\SiYuan"`. In addition, you can also pass `--port=12345` to specify the port that the kernel listens to.
    - On the mobile, we can switch between different workspaces in <kbd>About</kbd> in the right colum panel

    ## File system structure

    The structure under the workspace on the file system:

    - ‚Äã`conf` is used to save the workspace configuration
    - ‚Äã`corrupted` is used to save corrupted data files
    - ‚Äã`data` is used to save data, please refer to here[^19] for the specific structure
    - ‚Äã`history` is used to save file history
    - ‚Äã`repo` is used to save data warehouse data
    - ‚Äã`temp` is used to save temporary files needed at runtime
    - ‚Äã`.lock` This file will be created after the kernel process starts to lock the workspace


[^19]: - ‚Äã`assets` is used to save all inserted assets[^20]
    - ‚Äã`emojis` is used to save emoji images
    - ‚Äã`snippets` is used to save code snippets
    - ‚Äã`storage` is used to save query conditions, layouts and flashcards[^22], etc.
    - ‚Äã`templates` is used to save template snippets[^23]
    - ‚Äã`widgets` is used to save widgets[^24]
    - ‚Äã`plugins` is used to save plugins[^25]
    - ‚Äã`public` is used to save public data
    - The rest of the folders are the notebook folders created by the user, files with the suffix of `.sy`‚Äã‚Äã‚Äã in the notebook folder are used to save the document data, and the data format is JSON


[^20]: # Assets

    ## Overview

    Attachments inserted through the editor will be regarded as asset files and will be placed in the `workspace/data/assets/` folder by default.

    ## Insert picture or file

    In the editor, you can directly paste the copied picture or file in the system clipboard (not supported on Linux), or insert it by dragging and dropping the picture or file into the editor. There are two options when inserting:

    - Copy as an asset and insert: Copy a picture or file as a resource file and insert, shortcut key <kbd>Ctrl</kbd>+<kbd>V</kbd>‚Äã
    - Use `file://` absolute path and link: Insert a picture or file into a hyperlink as a local absolute path, shortcut key <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>V</kbd>, or hold down <kbd>Alt</kbd> and drag in

    For pictures, if a picture title is specified during layout, the title will be rendered below the picture as a legend.

    ![siyuan-128.png](assets/siyuan-128-20210604092437-7iqzf90.png "When one drinks water, one must not forget where it comes from")

    ‚Äã#Note#: Inserting pictures will not be compressed, and all pictures and files will be saved as original data.  

    ## Cleanup unreferenced assets

    A "Reference" refers to a link to a asset file via a hyperlink, an inserted image, or the `src` attribute of an HTML tag (such as `<img>`, `<iframe>`). There are two cases here:

    1. Reference to a specific asset file, such as a picture or a file
    2. Reference to a asset folder (a subfolder under the assets folder) must end with `/`, such as `[foo](assets/bar/)`. If a asset folder is referenced, all the following asset files will be counted as already referenced regardless of whether they are individually referenced

    In <kbd>Settings</kbd> - <kbd>Assets</kbd>, you can clean up unreferenced assets by one-click. If you need to retrieve files that have been deleted by mistake, please via Rollback[^21].

    ‚Äã#Note#: Using absolute paths (local or network paths) will not be included Clean up calculations.

    ## List missing assets

    You can view the missing resources in <kbd>Settings</kbd> - <kbd>Assets</kbd>, and you can find the references in the global search after copying the path.

    ‚Äã#Note#: To search asset paths, you need to enable <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Index</kbd> - <kbd>Asset Path</kbd>.

    ## Notebook-level assets

    If you need to place the inserted assets in the assets folder at the same level as the document by default, you need to manually create a folder named assets first, so that SiYuan will preferentially select the assets folder to store the assets.

    It is recommended not to use notebook-level assets as much as possible, as this has some side effects:

    - When deleting the doc, the assets referenced by the doc will be copied to the global assets in batches to ensure the normal operation of cross-notebook asset references
    - Does not support viewing notebook-level assets history in data history
    - Dose not support search by `/Assets`
    - Dose not support rename

    ## Image OCR to extract text

    This feature is only supported on the desktop, and the *Tesseract OCR* program needs to be manually installed first. 

    ‚Äã#Note#:

    - When installing Tesseract OCR, you need to check the language pack you need, and add the installed Tesseract-OCR directory path to the environment variable `PATH`, so that SiYuan can directly call the `tesseract` command to extract text from image OCR. If the installation is normal, you can search for `tesseract-ocr enabled` in the kernel boot log; If you want to disable OCR, set the environment variable `SIYUAN\_TESSERACT\_ENABLED=false`‚Äã
    - SiYuan does not enable all installed language packs, because too many language packs will cause OCR to be slow or even timeout and return empty results, and take up too many system resources, so by default only `eng`‚Äã, `chi*`‚Äã, `fra`‚Äã, `spa`‚Äã, `deu`‚Äã, `rus`‚Äã and `osd`‚Äã will be enabled at most, if you need more accurate language support, you can specify the language pack by configuring the environment variable `SIYUAN_TESSERACT_LANGS`‚Äã, such as `SIYUAN_TESSERACT_LANGS=chi_sim+eng`‚Äã
    - Only images in png and jpg formats are supported
    - By default, only images below 2MB are processed. If you need to adjust, you can set the environment variable `SIYUAN_TESSERACT_MAX_SIZE`‚Äã, the unit of value is bytes, for example: `SIYUAN_TESSERACT_MAX_SIZE=4000000`‚Äã adjust the upper limit to 4MB

    Image OCR extracts text automatically in the background, currently only supports PNG and JPG images. The extracted text is used in the search function, so that images can be located by text keywords.

    ### Manually adjust OCR results

    The OCR results are saved in `workspace/data/assets/ocr-texts.json`, and the OCR results can be adjusted in the following ways:

    - After exiting SiYuan, modify the file on the file system (please pay attention to the correctness of the JSON format)
    - Or select <kbd>OCR</kbd> from the image element menu in the editor

    After the adjustment, you need to manually rebuild the index.


[^21]: ## Rollback through file history

    In the time list column on the left side of the data history interface, there is a rollback button on the right side of each history record. After clicking, a confirmation dialog box will pop up. If the rollback is confirmed, the existing file will be overwritten with the file history.

    If there are very many files that need to be rolled back, it is recommended to manually copy on the file system. The internal structure of the history folder is the same as the internal structure of data, for example:

    - Notebook delete: `2022-05-01-091021-delete/20210808180117-czj9bvb/`, i.e. `historical generation date-{operation}/{notebook ID}/`
    - Document deletion: `2022-05-01-091209-delete/20210808180117-czj9bvb/20200812220555-lj3enxa.sy`, which is `historical generation date-{operation}/{notebook ID}/{document path}`
    - Asset file cleanup: `2022-05-01-095621-clean/assets/image-20220501091157-qccp87e.png`, which is `historical generation date-{operation}/assets/{asset file name}`

    Manual rollback steps:

    1. Exit SiYuan, and then make a full copy and backup of the entire workspace to avoid data loss caused by subsequent misoperations
    2. Go to the `workspace/history/` folder and copy the data in the `historical generation date-{operation}` folder directly to the data folder for overwriting
    3. Reindex manually after starting SiYuan

    ### Clean up file history

    By default, the history of files generated in the last 30 days is automatically saved, which can be adjusted through <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>History Retention Days</kbd>. History will be automatically deleted.

    If you want to clear all file history data, you can click <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Clear all history</kbd>, or manually delete the `workspace/history/` folder, then <kbd>Reindex</kbd> in <kbd>File History</kbd>.


[^22]: # Flashcards

    ## Overview

    After setting the content block as a flashcard, it will automatically arrange the review through the spaced repetition algorithm FSRS (github repo: open-spaced-repetition/free-spaced-repetition-scheduler).

    ## How to use

    ### Content Block

    Before starting the official card making, let us introduce some basic rules of card making:

    - ==mark== elements in content blocks will be treated as knockout answers
    - If a super block is set as a flashcard, the first sub-block of the super block will be regarded as a question, and the rest of the sub-blocks will be regarded as an answer
    - If a list or list item is set as a flashcard, non-sublists will be treated as questions and sublists will be treated as answers
    - If a heading block is set as a flashcard, the heading block will be treated as a question and the blocks below it will be treated answers

    The above rules can be adjusted in <kbd>Settings</kbd> - <kbd>Flashcard</kbd>.

    ### Based on doc

    The document-based usage method does not need to pay attention to the card deck, and supports parent-child document review.

    - Select <kbd>Quick make card</kbd> in the block icon menu to make a card
    - Right-click the doc in the document tree panel or click the document block icon <kbd>Flashcard</kbd> in the editor to enter the review

    ### Based on card deck

    Based on the use of card deck, the content blocks in different documents can be carded and put into a unified card pack for review.

    - Select <kbd>Add to card deck...</kbd>‚Äã in the block label menu, and then add the content block to a card deck to complete the card making
    - Access review by clicking <kbd>Flashcard</kbd>‚Äã in the top bar menu

    This mode of use is disabled by default. If necessary, it can be enabled in <kbd>Settings</kbd> - <kbd>Flashcard</kbd> - <kbd>Deck</kbd>. However, it is not recommended to use flashcards based on card deck, because the card deck are fixed and not as flexible as using flashcards based on documents.

    ## Settings

    You can adjust the global configuration related to flashcards in <kbd>Settings</kbd> - <kbd>Flashcard</kbd>, including <kbd>New Card Limit</kbd> and <kbd>Old Card Limit</kbd> can be overridden using document block custom attributes:

    - ‚Äã`riff-new-card-limit`‚Äã
    - ‚Äã`riff-review-card-limit`‚Äã

    ![image](assets/image-20240128113001-pee8l86.png)

    They are configured separately on different documents and do not affect each other. For example, if the parent document is configured as 5 and the sub-document is 10, then it will be 5 when reviewing from the parent document, and the configuration of the sub-document will not be superimposed.

    ## ‚Äã#Note#‚Äã

    - After the content block is deleted (or the ID is changed), the corresponding flashcard will become invalid
    - It is not recommended to enable card decks. This method has been deprecated. If you continue to use it, you may encounter unsolvable problems

    ## Technical implementation

    - The card deck data is stored in the `workspace/data/storage/riff/` folder through the MessagePack serialization protocol
    - Load all card deck data to the memory at startup, and reload once after the data is downloaded synchronously


[^23]: # Template snippet

    ## Overview

    The template snippet is used to quickly insert the previously set text content at the cursor caret position, and it supports variables. Template snippets use `.md` suffix files and are stored in the data/templates folder of the workspace.

    ## Writing a template

    The template is implemented using [The Go Programming Language text template](https://golang.org/pkg/text/template/). If you have an understanding of this, you can implement some program logic in it, such as comparison logic , Iterative logic, etc. In addition, to avoid syntax conflicts, template syntax uses `.action{action}` (instead of `{{action}}`).

    We have built-in variables and functions to enrich the template through the open source project Sprig (GitHub repo: Masterminds/sprig). For example, you can use `.action{now | date "2006-01-02 15:04:05"}` to render the current time. For more usage, please refer to [Sprig Function Documentation](http://masterminds.github.io/sprig/).

    There is a detail about the date and time formatting. #Note#: The formatting of the Go programming language is quite special: Instead of using `yyyy-MM-dd HH:mm:ss`, use `2006-01-02 15:04: 05` This fixed time format ([related discussions on Stack Overflow](https://stackoverflow.com/questions/20530327/origin-of-mon-jan-2-150405-mst-2006-in-golang)).

    In addition to the built-in variables and functions of Sprig, the following variables and functions are also supported:

    - ‚Äã`title`: Use this variable to insert the current document name. For example, if the template content is `# .action{.title}`, it will be inserted into the current document content with the first-level heading syntax after invoking
    - ‚Äã`id`ÔºöUse this variable to insert the current document id
    - ‚Äã`name`: Use this variable to insert the current document name
    - ‚Äã`alias`ÔºöUse this variable to insert the current document alias
    - ‚Äã`getHPathByID`: This function is used to return the readable path of the block corresponding to the block ID
    - ‚Äã`queryBlocks`: This function is used to query the database, and the return value is a list of blocks

      ```
      .action{$today := now | date "20060102150405"}
      .action{$blocks := queryBlocks "SELECT * FROM blocks WHERE content LIKE '?' AND updated > '?' LIMIT ?" "%foo%" $today "3"}
      ```
    - ‚Äã`getBlock`: This function is used to query the database based on the block ID, and the return value is block

      ```
      .action{getBlock "20250331163529-vixv1we"}
      ```
    - ‚Äã`querySpans`: This function is used to query the database, and the return value is a list of spans

      ```
       .action{querySpans "SELECT * FROM spans LIMIT ?" "3"}
      ```
    - ‚Äã`querySQL`: This function is used to query the database and the return value is a result set

      ```
       .action{querySQL "SELECT * FROM refs LIMIT 3"}
      ```
    - ‚Äã`statBlock`: This function is used to count the block content

      ```
      .action{ (statBlock .id).RuneCount} .action{ (statBlock .id).WordCount}
      ```
      - RuneCount
      - WordCount
      - LinkCount
      - ImageCount
      - RefCount
      - BlockCount
    - ‚Äã`runeCount`: This function is used to return the number of characters in a string
    - ‚Äã`wordCount`: This function is used to return the number of words in a string
    - ‚Äã`parseTime`: This function is used to parse a string in time format into a `time.Time` type so that more formatting methods can be used to render the time
    - ‚Äã`Weekday`: This function is used to return the day of the week `Sunday=0, Monday=1, ..., Saturday=6`‚Äã
    - ‚Äã`WeekdayCN`: This function is used to return the day of the week `Sunday=Êó•, Monday=‰∏Ä, ..., Saturday=ÂÖ≠`‚Äã
    - ‚Äã`WeekdayCN2`: This function is used to return the day of the week `Sunday=Â§©, Monday=‰∏Ä, ..., Saturday=ÂÖ≠`‚Äã
    - ‚Äã`ISOWeek`: This function is used to return the week
    - ‚Äã`pow`: Exponential calculation, return an integer
    - ‚Äã`powf`: Exponential calculation, return a floating point number
    - ‚Äã`log`: Logarithmic calculation, returns an integer
    - ‚Äã`logf`: Logarithmic calculation, return a floating point number

    ## Invoke template

    At the cursor caret position, select the template via <kbd>/</kbd> to trigger the template search, find the template that needs to be inserted and press <kbd>Enter</kbd>.

    ## An example

    ```plaintext
    .action{$before := (div (now.Sub (toDate "2006-01-02" "2020-02-19")).Hours 24)}

    .action{$after := (div ((toDate "2006-01-02" "2048-02-19").Sub now).Hours 24)}
    Today is `.action{now | date "2006-01-02"}`.

    * `.action{$before}` days have passed since `2020-02-19`
    * There are `.action{$after}` days left from `2048-02-19`
    ```
    `$before` and `$after` define two variables to record the number of days from the current date to 2020 and 2048, respectively.

    ## Push to template marketplace

    Please refer to [Community marketplace repo](https://b3log.org/siyuan/en/community.html).

    ‚Äç


[^24]: # Widgets

    ## Overview

    The widget is a static webpage served by SiYuan Kernel. It accesses data through API and renders it through `<iframe>`.

    Compared with plugins[^25], a widget is a kind of content block, which follows the indexing and rendering rules of the block. The widget is mainly oriented to content block extension, not to program function extension.

    ## How to use

    The widgets are installed through the widget marketplace. After installation, the widgets will be placed in the `workspace/widgets/` folder. In the editor, use the slash menu to trigger the call search. After selecting the widget you need, the widget will be inserted into the document in the form of a widget block.

    ## Push to widget marketplace

    Please refer to [Community marketplace repo](https://b3log.org/siyuan/en/community.html).


[^25]: # Plugins

    ## Overview

    Plugins are mainly used to expand the overall functions of SiYuan.

    Compared with widgets[^24], the plugin is mainly for program function extension, not for content block extension.

    ## How to use

    The plugin is installed through the plugin marketplace. After installation, the plugin will be placed in the folder `workspace/plugins/`. You can enable or disable plugins in <kbd>Settings</kbd> - <kbd>Marketplace</kbd> - <kbd>Downloaded</kbd> - <kbd>Plugin</kbd>.

    ## Push on plugin marketplace

    Please refer to [Community marketplace repo](https://b3log.org/siyuan/en/community.html).


[^26]: # Connect with third-party cloud storage

    Please configure in <kbd>Settings</kbd> - <kbd>Cloud</kbd> - <kbd>Cloud Storage Provider</kbd>, currently supported:

    - S3 compatible object storage services, such as [Qiniu](https://s.qiniu.com/VbQfeu), [Aliyun OSS](https://www.aliyun.com/product/oss?userCode=yqovuas2), [Cloudflare R2](https://www.cloudflare.com/)
    - WebDAV protocol, such as [InfiniCLOUD](https://infini-cloud.net/), [Koofr](https://koofr.eu/)

      - Due to the problems of the WebDAV protocol itself, when the data volume is large, problems such as slow startup, slow synchronization, and high resource usage will occur, so it is recommended to use S3 object storage
      - Nutstore cloud WebDAV is not supported because its [interface has limitations](https://help.jianguoyun.com/?p=2064)
    - Local file system

    Synchronizing data through third-party cloud storage services is also end-to-end encrypted[^27], and third-party cloud storage service providers cannot obtain our plaintext data.

    ‚Äã#Note#: In order to ensure the availability of data synchronization, please ensure:

    - The system time of multiple devices is consistent, please control the deviation within one minute
    - The network is stable (For example, in mainland China, please do not use services in non-mainland China)
    - Do not enable CDN


[^27]: ## End-to-end Encryption

    Data synchronization is transmitted through end-to-end encryption, and the cloud does not store any plaintext data.

    - The key is only stored locally and will not be uploaded to the cloud
    - Encryption and decryption process is performed entirely on the local device
    - The encryption algorithm is the industry-recognized and secure AES GCM


[^28]: # Member's privileges

    Membership privileges are divided into two parts:

    - Annual subscription Cloud Services[^29]
    - One-time payment Function Features[^40]

    These two parts need to be purchased separately, and the annual subscription includes one-time payment features, that is, all function features can be used during the subscription period.


[^29]: # Cloud Services

    Member's cloud services include:

    - Storage[^30]
    - Data sync[^31]
    - Data backup[^34]
    - Assets hosting[^37]
    - Inbox[^38]

    ‚Äã#Note#: Cloud service related limitations[^39].

    Member's cloud services require a paid subscription to use:

    - [Mainland China](https://ld246.com/subscribe/siyuan)
    - [Non-Mainland China](https://liuyun.io/subscribe/siyuan)


[^30]: # Storage

    The cloud storage space is `8G`, divided into the following sections:

    - Syn data: Provided to the synchronization function, the data is encrypted
    - Backup data: Provided to the backup function, the data is encrypted
    - Assets: Provided for copying to the Wechat MP, Zhihu and Yuque, etc., HTTPS CDN

    Usage can be viewed in <kbd>Settings</kbd> - <kbd>Cloud</kbd>.

    ## End-to-end Encryption

    Data synchronization is transmitted through end-to-end encryption, and the cloud does not store any plaintext data.

    - The key is only stored locally and will not be uploaded to the cloud
    - Encryption and decryption process is performed entirely on the local device
    - The encryption algorithm is the industry-recognized and secure AES GCM

    ## FAQ

    ### Can developers decrypt my cloud data?

    Unable to decrypt. If you lose your key, no one (including developers) can help you recover your data from the cloud.


[^31]: # Data sync

    ## Overview

    Data synchronization refers to keeping the `workspace/data/` folder data consistent on multiple devices, includes assets, custom icons, plugins, code snippets, templates, widgets, and document data.

    ## How to use

    After initializing the data repo key[^32], if all goes well, the synchronization is already configured. If you are not familiar with synchronization configuration, it is recommended to open the synchronization configuration wizard by clicking the synchronization button. It is easier to configure through the wizard.

    - If you need to pause sync, you can turn off the option <kbd>Settings</kbd> - <kbd>Cloud</kbd> - <kbd>Enable cloud sync</kbd>
    - Ignore files[^33]

    ‚Äã#Note#‚Äã: 

    - Before enabling synchronization, please ensure that the system time of all devices participating in the synchronization is consistent
    - If the amount of data is large, it is recommended to export the data package through <kbd>Export Data</kbd> in the settings, and then send the data package to the new device by manual copying or other methods, and export the data package on the new device. Go to <kbd>Import Data</kbd>, and finally configure synchronization

    ## Synchronous mode

    Three synchronization modes are supported in <kbd>Settings</kbd> - <kbd>Cloud</kbd> - <kbd>Cloud Sync Mode</kbd>:

    - Auto

      - A synchronization will be performed when starting and exiting, and a synchronization will be performed 30 seconds after the data in use is no longer changed
      - Data merging and overwriting are determined by the synchronization algorithm, please refer to the following working principle introduction
    - Manual

      - Only one synchronization is performed when starting and exiting, and manual triggering of synchronization is required during use
      - Data merging and overwriting are determined by the synchronization algorithm, please refer to the following working principle introduction
    - Full manual sync: no sync at startup and exit, fully manual control of sync timing and sync direction

    ## How Auto/Manual mode works

    SiYuan performs corresponding operations by comparing cloud data snapshots and local data snapshots:

    - If the snapshots are the same, ignore this synchronization
    - If the snapshots are different, upload the local changes from the last sync to the cloud, and merge the latest changes from the cloud to the local

      - Merge directly if there is no conflict between the changes at both ends
      - If there is a file conflict, the local will overwrite the cloud, and the conflicting files from the cloud will be generated in the data history.

    The automatic synchronization time interval algorithm is described as follows:

    - After 30 seconds of data change, if there is no further change, a comparison will be made, and if it continues to change, it will be delayed by 30 seconds
    - If there is no data change, it will be incremented by 5 minutes, 8 minutes, 16 minutes, 32 minutes...

    ## Scenario example

    From the above working principle, we can know that SiYuan only supports alternate synchronization of data on multiple devices: after synchronization is completed on device A, synchronization is performed on device B. Simultaneous synchronization of multiple devices cannot be supported, so unexpected data overwriting will occur.

    ### Normal scenario

    1. Execute synchronization after editing on device A (by triggering synchronization automatically or manually), at this time, the cloud data will be overwritten by the data of device A, that is, the cloud and device A keep the same data
    2. Execute synchronization on device B. At this time, the data of device B will be overwritten by the cloud data, that is, the cloud and devices A and B keep the same data
    3. After editing on device B, perform synchronization again. At this time, the cloud data will be overwritten by device B data, that is, the cloud and device B keep the same data.
    4. Execute synchronization on device A. At this time, the data of device A will be overwritten by the cloud data, that is, the cloud and devices A and B keep the same data

    In this scenario, the process of using synchronization is performed alternately on devices A and B, which can ensure that data synchronization is completed normally as expected.

    ### Conflict scenario

    1. Sync after editing the file a on device A
    2. Sync after editing the file a on device B
    3. At this time, the cloud file a will be overwritten by a of the B device, and the history of the previous A device file a will be generated on the B device

    ## #Note#

    - Synchronization will not be triggered in the case of sudden disconnection such as sleep or shutdown, please manually click the synchronization button to synchronize
    - Do not use a third-party sync disk and SiYuan sync at the same time, it may cause data damage
    - Symbolic links and hidden files will not be synchronized
    - In the automatic synchronization mode, if you need to exit, please use the normal exit method (for example, do not use sliding to remove on the mobile APP, do not use the end process to force close on the desktop) to ensure data sync
    - If the data snapshot takes more than 12 seconds before data synchronization, you will be prompted to clean up the data warehouse. If you need to change the default time, you can use the following two methods.

      - Environment variable `SIYUAN_SYNC_INDEX_TIMING`, for example `SIYUAN_SYNC_INDEX_TIMING=30000`, the unit is milliseconds
      - Directly modify `repo.syncIndexTiming` in workspace/conf/conf.json

      The minimum value can only be configured to `12000` (12 seconds), and the maximum value is not limited; when starting, environment variables will be read first to overwrite the values in the conf file.


[^32]: ### Initialize key

    Before using the data snapshot for the first time, you need to initialize the <kbd>Data repo key</kbd> in <kbd>Settings</kbd> - <kbd>About</kbd>.

    There are three ways to initialize the key:

    - <kbd>Import Key</kbd>: Copy the key string from another device to this paste and import
    - <kbd>Auto-generate key</kbd>: Use random text to generate the key, this method only needs to be executed once on one device, and other devices use <kbd>Import key</kbd>
    - <kbd>Generate key by passphrase</kbd>: Use a custom passphrase to generate the key, which requires the same passphrase on all devices

    All in all, it is important to ensure that all devices use the same key, otherwise data snapshots will not be available across devices, such as syncing data snapshots through the cloud.


[^33]: ### Ignore files

    If you need to ignore some files during synchronization, please create or edit the text file `workspace/data/.siyuan/syncignore` on the file system, each line is configured with the relative path of the data folder, which means that the path of the file or folder is ignored and wildcard characters are supported. E.g:

    - `20210808180117-6v0mkxr/**/*`: Ignore the data/20210808180117-6v0mkxr notebook
    - `assets/*.pdf`: ignore PDF files under data/assets/


[^34]: # Data backup

    ## Overview

    Data backup refers to uploading Data snapshot[^35] to the cloud.

    ## How to use

    1. After initializing the data repo key[^32], if all goes well, the backup has been configured
    2. Open the <kbd>Data History</kbd> - <kbd>Data snapshot</kbd> tab, select the snapshot to be backed up and click <kbd>Tag Snapshot</kbd>
    3. Select <kbd>Locally tag snapshot</kbd> in the filter drop-down list, select the snapshot to upload and click <kbd>Upload</kbd>
    4. After the upload is complete, select <kbd>Cloud tag snapshot</kbd> from the filter drop-down list to see the snapshots just backed up to the cloud
    5. After the snapshot of the cloud backup is downloaded to the local, you can restore the data by Rollback data snapshot[^36]

    In addition:

    - Ignore files
    - The cloud supports saving up to 12 data snapshots


[^35]: ## Data snapshot

    ### Initialize key

    Before using the data snapshot for the first time, you need to initialize the <kbd>Data repo key</kbd> in <kbd>Settings</kbd> - <kbd>About</kbd>.

    There are three ways to initialize the key:

    - <kbd>Import Key</kbd>: Copy the key string from another device to this paste and import
    - <kbd>Auto-generate key</kbd>: Use random text to generate the key, this method only needs to be executed once on one device, and other devices use <kbd>Import key</kbd>
    - <kbd>Generate key by passphrase</kbd>: Use a custom passphrase to generate the key, which requires the same passphrase on all devices

    All in all, it is important to ensure that all devices use the same key, otherwise data snapshots will not be available across devices, such as syncing data snapshots through the cloud.

    ### Create data snapshot

    1. Click the <kbd>Data History</kbd> button on the top toolbar or <kbd>Alt</kbd>+<kbd>H</kbd> to open the data history interface
    2. Switch to the last tab <kbd>Data snapshot</kbd>
    3. Click <kbd>Create Snapshot</kbd>, fill in <kbd>Memo</kbd> and confirm

    When browsing data snapshots, you can only distinguish between the snapshot creation time and memo, so the memo should be as detailed as possible, so that different data snapshots can be accurately identified in the future.

    ### Browse data snapshot

    After creating a data snapshot, you can see the snapshot time list on the left, and click different snapshots to browse their notes.

    ### Rollback data snapshot

    There is a rollback button on the right side of the snapshot time list entry. After clicking, a confirmation dialog box will pop up. If the rollback is confirmed, the existing data will be completely replaced with the snapshot data.

    ### Cleanup data snapshot

    - ‚Äã<kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Data repo purge</kbd> will delete all unreferenced snapshots and related data objects. "Referenced snapshots" refer to snapshots pointed to under repo/refs/:

      - ‚Äã`latest` points to the latest snapshot
      - ‚Äã`tags/*` point to manually tagged snapshots
    - Manually delete the `workspace/repo/` folder to clear all data snapshots

    ### Ignore files

    If you need to ignore some files during synchronization, please create or edit the text file `workspace/data/.siyuan/syncignore` on the file system, each line is configured with the relative path of the data folder, which means that the path of the file or folder is ignored and wildcard characters are supported. E.g:

    - `20210808180117-6v0mkxr/**/*`: Ignore the data/20210808180117-6v0mkxr notebook
    - `assets/*.pdf`: ignore PDF files under data/assets/

    ### #Note#

    - Symlinks and hidden files are not snapshotted


[^36]: ### Rollback data snapshot

    There is a rollback button on the right side of the snapshot time list entry. After clicking, a confirmation dialog box will pop up. If the rollback is confirmed, the existing data will be completely replaced with the snapshot data.


[^37]: # Assets hosting

    SiYuan provides cloud assets hosting, which is mainly used to copy documents and asset files to platforms such as WeChat MP, Zhihu and Yuque. The editors of these platforms will automatically pull resource files to their platforms when pasting.

    ## How to use

    1. In the upper right corner of the document, select <kbd>Ô∏ô</kbd> in the More menu and select <kbd>Upload asset files to cloud</kbd>‚Äã
    2. Select <kbd>Export Preview</kbd> in <kbd>Toogle Mode</kbd>
    3. Click <kbd>Copy to Wechat MP</kbd>, <kbd>Copy to Zhihu</kbd> or <kbd>Copy to Yuque</kbd>
    4. Paste into the target platform editor

    If you need to delete the files in the cloud assets hosting, please go to [LiuYun - Settings - File - Note](https://liuyun.io/settings/file?type=3) to operate. After deletion, the cloud storage space occupied by the file will be released immediately, but the CDN cache cleaning may not take effect in time, which will cause the file URL to remain accessible until the CDN cache expires automatically after 30 days.

    ## #Note#

    - Please do not directly use the external link address provided by cloud assets on other platforms. This address is unstable and may affect the availability due to the domain name change
    - Please do not upload illegal or sensitive files. The uploaded files will be reviewed through services provided by third parties (pornography, violent terrorism, sensitive people, etc.). If a user is found to upload illegal files, the user account will be permanently banned, and the corresponding legal responsibility will be assumed


[^38]: # Inbox

    ## Overview

    We can collect external data through the cloud inbox, and then obtain these data from the cloud through the inbox panel in SiYuan and send them to the notebook for further sorting.

    ## How to use

    Currently, the following method are provided for data access.

    ### API

    - POST `https://liuyun.io/apis/siyuan/inbox/addCloudShorthand`‚Äã
    - Body

      ```json
      {
          "title": "A simple text title",
          "content": "Content with **Markdown**."
      }
      ```
    - The authentication method is the HTTP request header `Authorization`, the value is `token {Your API Token}` (note case and spaces), API Token can be found at [LiuYun - Settings - Account](https://liuyun.io/settings/account)

    ‚Äã#Note#:

    - Frequency limit: Up to 128 inserts per 24 hours


[^39]: # Limitations

    - Supports saving up to 12 data snapshots
    - Supports the creation of up to 7 cloud synchronization directories
    - The initial total size of cloud storage space is `8G`‚Äã
    - Data snapshots in cloud storage are retained for up to 30 days, that is, unreferenced snapshots older than 30 days will be automatically cleaned up

      - The latest snapshot after each data synchronization will not be cleaned up
      - Snapshots manually tagged for backup and uploaded to the cloud will not be cleaned up
      - Snapshots within 30 days will not be cleaned up
    - After the paid subscription expires, the cloud storage will be completely deleted

      - From 15 days before the expiration, the expiration reminder will pop up every time you open the software, and the reminder will stop after 2 days of expiration
      - Deleting cloud storage does not affect local data


[^40]: # Function Features

    Membership function features include:

    - Connect with third-party cloud storage[^26]
    - Search asset content[^41]

    Membership functions need to be paid before they can be used:

    - [Mainland China](https://ld246.com/one-time-pay/siyuan)
    - [Non-Mainland China](https://liuyun.io/one-time-pay/siyuan)


[^41]: # Search asset content

    In the upper right corner of the <kbd>Search</kbd> interface, you can switch the search function to <kbd>Search asset file content</kbd>. Currently, asset content search in the following formats is supported:

    - Text files (.txt, .md, .json, .log, .sql, .html, .xml, .java, .h, .c, .cpp, .go, .rs, .swift, .kt, . py, .php, .js, .css, .ts, .sh, .bat, .cmd, .ini, .yaml, .rst, .adoc, .textile, .opml, .org, .wiki)
    - .docx
    - .pptx
    - .xlsx
    - .pdf

    ‚Äã#Note#‚Äã:

    - Text files larger than 4MB are not supported
    - PDFs larger than 1024 pages are not supported
    - By default, PDFs larger than 128MB are not supported. You can set the environment variable `SIYUAN_PDF_ASSET_CONTENT_INDEX_MAX_SIZE`. The value unit is bytes, for example: `SIYUAN_PDF_ASSET_CONTENT_INDEX_MAX_SIZE=256000000` to adjust the upper limit to 256MB
    - Android/iOS does not support PDF asset content search


[^42]: ## Is SiYuan open source?

    SiYuan is completely open source, and the complete source code can be found on GitHub.


[^43]: ## Origin of the name "SiYuan"

    The name "SiYuan" comes from the Chinese idiom "È•ÆÊ∞¥ÊÄùÊ∫ê", which means "when drinking water, one should remember where it comes from" and is used to describe the virtues of not forgetting one's roots and gratitude.

    We hope that users of SiYuan note-taking software for knowledge management will not forget the sources and connections of their knowledge, and more importantly, will not forget to contribute to society and all of humanity with what they have learned.


[^44]: # What is a Content Block

    ## Content block definition

    "#Content Block#" refers to a piece of content, and each piece of such content is identified by a globally unique ID. The ID is automatically generated by the program and has the form: `202008250000-a1b2c3d`, consisting of time and 7 random characters.

    ## Content block types

    The most common content block is the familiar paragraph (Paragraph). In traditional Chinese typesetting, paragraphs are usually represented by indentation (two spaces) at the beginning of the paragraph. With the development of the Internet, it has gradually affected the representation of paragraphs. The most commonly used method is to increase the line spacing between paragraphs, or use blank lines to separate paragraphs.

    In actual use, it is not enough to rely on paragraph typesetting. It is often necessary to use Heading, List, Table, Blockquote, etc. to enrich our typesetting. These typographic styles are not only visually different, but more importantly, they express the semantics of the content to a certain extent. For example, when we see an unordered list, we can know that each list item is in an indiscriminate level relationship, while when we see an ordered list, the opposite is true.

    Therefore, there are many content blocks all types of blocks[^8], and different types of content blocks are defined by formatting. #Content Block/Type#

    ## Combined content blocks

    A document is a combination of some content blocks, and the content block is the basic unit. This is like Lego bricks, which can be combined using different basic modules. #Note#: the document itself is also a kind of content block. More precisely, the three content blocks of document block, list block, and block reference block are container blocks, and they can contain any other types of content blocks. #Content Block/Combine#

    At this point, we have been able to use content blocks to describe all content, so that we can use uniform usage to ref[^4] . Logically, there is no page concept, which reduces unnecessary burdens in use and allows users to focus on the content block.

    ## Naming and memo

    We can name each content block, add aliases and memo. Naming and aliases are mainly used for anti-link mention [^45]search, and memo are used to record some inconvenient information in the content area.

    After opening the options for displaying bookmarks, naming, and alias identification in the <kbd>Settings</kbd> - <kbd>Editor</kbd>, the named content block will be displayed with a frame in the editor. If you name and memo the document block, when the mouse is hovering over the doc tree document, the relevant naming and memo of the document will appear.

    You can use Embed Content Block[^10] to search and summarize the naming and memo, such as listing the content blocks that contain the keyword `short` in the memo:

    We can name each content block, add aliases and memo. Naming and aliases are mainly used for anti-link ((20210106204950-gjw62fp "mention "))search, and memo are used to record some inconvenient information in the content area.

    ‚Äã#Note#:

    - The name is unique, only one name can be set for a block
    - Multiple aliases can be set, separated by commas (`,`) in English
    - Memos only support plain text


[^45]: ### Mentions

    Mentions are searched using the content block name, alias, reference anchor text and document name in the current document as keywords (the search scope can be set in <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Backlink mentions</kbd>), the search results are blocks of content that contain these keywords.

    ‚Äã#Note#: Mention search will only search in normal text, not in line-level elements such as bold and italics, and block-level elements such as code blocks and charts. The rule are the same as the detection rules of virtual reference[^7].


[^46]: # Conversion of Document and Heading

    ## Correspondence between Document and Heading

    The heading block and the document block have a natural correspondence, because:

    - Each document block has a name
    - Each heading block also has a name

    So we can convert between the document block and the heading block. In addition, because the content block is referenced based on id, the conversion process will not break the existing reference relationship.

    ## Convert Document block to Heading block

    In the document tree, select the document you want to convert to a heading block, then hold down the Alt key and drag it to the position in the editor tab where you want to insert it. There are two situations here:

    1. Place the document block on the existing heading block, and the document block will be inserted below as the level node of the heading block
    2. Place the document block on a non-heading block, and the document block will be inserted as a child node of the heading block to which the block belongs

    After the document block is converted to a heading block:

    - The original document name will become the heading name
    - Logically, the document block is a first-level heading, and the relative level will be changed according to the insertion position
    - Each heading level in the original document will be adjusted according to the insertion position

      - For the above situation 1: For example, if the original document contains the first, second, and third level headings, and the insertion position is a second-level heading, the heading block after the document block conversion will be a second-level heading. Level 3 headings will become Level 2, 3, and 4 headings
      - For the second case above: For example, the original document contains headings of level 1, 2, and 3, and the insertion position is a paragraph block under a level 2 heading. The heading block after the conversion of the document block will be a level 3 heading. Level 1, 2, and 3 headings will become Level 3, 4, and 5 headings

    ## Convert Heading block to Document block

    Select the heading block that needs to be converted in the editor tab, press and hold the heading block icon, and then drag it to the document tree for conversion. After the heading block is converted to a document block:

    - The heading name will become the document title
    - If there are subheadings under the original heading block, the largest level among these subheadings will be used as the second-level heading in the new document. The remaining subheadings will be adjusted according to the relative levels. For example, the original heading block contains three, four, and five. level subheadings, these subheadings will be converted into second, third, and fourth level headings after conversion to document blocks.

    ## Convert List Item block to Document block

    In addition to converting heading blocks to document blocks, you can also convert list item blocks (not list blocks) to document blocks. Press and hold the block icon of the list item block, and then drag it to the document tree for conversion. After the list item block is converted to a document block:

    - The content of the first sub-block of the list item block will become the document title
    - The sub-blocks of the list item block will remain unchanged


[^47]: # Content Block Attribute

    ## Overview

    Attributes exist in the form of key-value pairs. We can enrich the connotation of the content block by setting attributes on the content block. Attributes are divided into built-in attributes and custom attributes.

    ## Built-in attributes

    |Property name|Description|
    | :-------------: | ---------------------------|
    |name|Name of the content block|
    |alias|Alias of content block|
    |memo|Memo of the content block|
    |bookmark|Bookmark of content block|

    ## Custom attributes

    The user-defined attributes are set by the user through the <kbd>‚Äã`Block icon menu`‚Äã</kbd> -<kbd>‚Äã`Attribute`‚Äã</kbd>, and only English letters and Arabic numerals are allowed in the attribute name (such as `doing`, `7days`). After setting, SiYuan will automatically prefix the attribute name with `custom-` to distinguish built-in attributes from custom attributes.

    ## Query content blocks based on attributes

    For example, when we set the properties of `progress=30` and `priority=2` for the content block, we can query all content blocks with a progress of 30 and a priority of 2 through SQL:

    ```sql
    SELECT *
    FROM blocks
    WHERE id IN (
        SELECT block_id
        FROM attributes AS a
        WHERE (a.name ='custom-progress' AND a.value = '30')
           OR (a.name ='custom-priority' AND a.value = '2')
        GROUP BY block_id
        HAVING count(block_id) = 2
    );
    ```

[^48]: # Optimize typography

    ## Overview

    In order to record the content quickly, we often ignore some typographic details, such as the lack of spaces before and after inline codes or bolds, and the lack of spaces between Chinese and Western texts.

    This will cause the content typography to look less refined, and there will be some visual distraction when browsing the content in the future. Of course, this is just our feeling, maybe this is not a problem, and even such a compact typesetting is needed in the first place.

    ## How to use

    Select <kbd>Optimized Typesetting</kbd> in the <kbd>Ô∏ô</kbd> menu in the upper right corner of the editor. After processing, a space will be automatically inserted before and after the following elements in the document:

    - Inline code: `Code`‚Äã
    - Inline formula: $a^2 + b^2 = \color{red}c^2$

    In addition, a space will be automatically inserted between Chinese and Western languages in the following elements:

    - ==Mark==
    - ~~Strikethrough~~
    - [Hyperlink anchor text](https://liuyun.io)
    - Normal text
    - *Italic*
    - **Bold**

    ## Automatic backup

    Before the actual execution of optimized typesetting, SiYuan will automatically back up the original document once, so that if the optimization result is not satisfied, it can be rolled back through Data history[^49].


[^49]: # Data history

    ## Overview

    Data history is mainly used to ensure data security, and even if a misoperation occurs, data can be rolled back through history. The data history is divided into two functions:

    - File history: saved in the `workspace/history/` folder as the original file, human-readable, and can be manually copied to the corresponding location of data for recovery
    - Data snapshot: partitioned by file, encrypted and compressed and saved in the `workspace/repo/` folder, unreadable by humans and cannot be manually restored

    In addition to local data history, data snapshots are also used for cloud Data sync[^31].

    ## File history

    ### File history generation rules

    - Every 10 minutes, a history will be generated for the documents updated within these 10 minutes (the interval can be set by <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>History Generation Interval</kbd> make adjustments), and the suffix of the history folder is `-update`‚Äã
    - When synchronizing in the cloud, the local data covered by the cloud will generate a history, and the suffix of the history folder is `-sync`‚Äã
    - History will be generated when manually deleting notebooks, documents and assets, and the suffix of the history folder is `-delete`‚Äã
    - When using Cleanup unreferenced assets[^50], a history will be generated, and the suffix of the history folder is `-clean`‚Äã
    - When using the Optimize typography[^48], a history will be generated, and the suffix of the history folder is `-format`‚Äã
    - When using <kbd>Search replace</kbd>, a history will be generated, and the suffix of the history folder is `-replace`‚Äã
    - When dragging an outline item in the outline panel, a history will be generated, and the suffix of the history folder is `-outline`‚Äã

    ## Browse file history

    - Click the <kbd>Data History</kbd> button on the top toolbar or <kbd>Alt</kbd>+<kbd>H</kbd> to open the data history interface, switch to the <kbd>File History</kbd> tab, if no historical data is displayed , you can try <kbd>Reindex</kbd> of this interface
    - Browse under the filesystem `workspace/history/` folder

    ## Rollback through file history

    In the time list column on the left side of the data history interface, there is a rollback button on the right side of each history record. After clicking, a confirmation dialog box will pop up. If the rollback is confirmed, the existing file will be overwritten with the file history.

    If there are very many files that need to be rolled back, it is recommended to manually copy on the file system. The internal structure of the history folder is the same as the internal structure of data, for example:

    - Notebook delete: `2022-05-01-091021-delete/20210808180117-czj9bvb/`, i.e. `historical generation date-{operation}/{notebook ID}/`
    - Document deletion: `2022-05-01-091209-delete/20210808180117-czj9bvb/20200812220555-lj3enxa.sy`, which is `historical generation date-{operation}/{notebook ID}/{document path}`
    - Asset file cleanup: `2022-05-01-095621-clean/assets/image-20220501091157-qccp87e.png`, which is `historical generation date-{operation}/assets/{asset file name}`

    Manual rollback steps:

    1. Exit SiYuan, and then make a full copy and backup of the entire workspace to avoid data loss caused by subsequent misoperations
    2. Go to the `workspace/history/` folder and copy the data in the `historical generation date-{operation}` folder directly to the data folder for overwriting
    3. Reindex manually after starting SiYuan

    ### Clean up file history

    By default, the history of files generated in the last 30 days is automatically saved, which can be adjusted through <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>History Retention Days</kbd>. History will be automatically deleted.

    If you want to clear all file history data, you can click <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Clear all history</kbd>, or manually delete the `workspace/history/` folder, then <kbd>Reindex</kbd> in <kbd>File History</kbd>.

    ## Data snapshot

    ### Initialize key

    Before using the data snapshot for the first time, you need to initialize the <kbd>Data repo key</kbd> in <kbd>Settings</kbd> - <kbd>About</kbd>.

    There are three ways to initialize the key:

    - <kbd>Import Key</kbd>: Copy the key string from another device to this paste and import
    - <kbd>Auto-generate key</kbd>: Use random text to generate the key, this method only needs to be executed once on one device, and other devices use <kbd>Import key</kbd>
    - <kbd>Generate key by passphrase</kbd>: Use a custom passphrase to generate the key, which requires the same passphrase on all devices

    All in all, it is important to ensure that all devices use the same key, otherwise data snapshots will not be available across devices, such as syncing data snapshots through the cloud.

    ### Create data snapshot

    1. Click the <kbd>Data History</kbd> button on the top toolbar or <kbd>Alt</kbd>+<kbd>H</kbd> to open the data history interface
    2. Switch to the last tab <kbd>Data snapshot</kbd>
    3. Click <kbd>Create Snapshot</kbd>, fill in <kbd>Memo</kbd> and confirm

    When browsing data snapshots, you can only distinguish between the snapshot creation time and memo, so the memo should be as detailed as possible, so that different data snapshots can be accurately identified in the future.

    ### Browse data snapshot

    After creating a data snapshot, you can see the snapshot time list on the left, and click different snapshots to browse their notes.

    ### Rollback data snapshot

    There is a rollback button on the right side of the snapshot time list entry. After clicking, a confirmation dialog box will pop up. If the rollback is confirmed, the existing data will be completely replaced with the snapshot data.

    ### Cleanup data snapshot

    - ‚Äã<kbd>Settings</kbd> - <kbd>About</kbd> - <kbd>Data repo purge</kbd> will delete all unreferenced snapshots and related data objects. "Referenced snapshots" refer to snapshots pointed to under repo/refs/:

      - ‚Äã`latest` points to the latest snapshot
      - ‚Äã`tags/*` point to manually tagged snapshots
    - Manually delete the `workspace/repo/` folder to clear all data snapshots

    ### Ignore files

    If you need to ignore some files during synchronization, please create or edit the text file `workspace/data/.siyuan/syncignore` on the file system, each line is configured with the relative path of the data folder, which means that the path of the file or folder is ignored and wildcard characters are supported. E.g:

    - `20210808180117-6v0mkxr/**/*`: Ignore the data/20210808180117-6v0mkxr notebook
    - `assets/*.pdf`: ignore PDF files under data/assets/

    ### #Note#

    - Symlinks and hidden files are not snapshotted


[^50]: ## Cleanup unreferenced assets

    A "Reference" refers to a link to a asset file via a hyperlink, an inserted image, or the `src` attribute of an HTML tag (such as `<img>`, `<iframe>`). There are two cases here:

    1. Reference to a specific asset file, such as a picture or a file
    2. Reference to a asset folder (a subfolder under the assets folder) must end with `/`, such as `[foo](assets/bar/)`. If a asset folder is referenced, all the following asset files will be counted as already referenced regardless of whether they are individually referenced

    In <kbd>Settings</kbd> - <kbd>Assets</kbd>, you can clean up unreferenced assets by one-click. If you need to retrieve files that have been deleted by mistake, please via Rollback[^21].

    ‚Äã#Note#: Using absolute paths (local or network paths) will not be included Clean up calculations.


[^51]: # Outline by Heading and List

    Here is an example for outlining via fusing heading and list.

    - List item 1

      ## Heading 2

      A simple paragraph.

      > Blockquote
      >
      > - List item in blockquote
      >
      >   - Sub list item 1
      >   - Sub list item 2
      >

      - Sub list item 1
      - Sub list item 2
    - ## List item 2

      1. Ordered list item 1

          ```go
          package main

          import "fmt"

          func main() {
          	fmt.Println("Hello, ‰∏ñÁïå")
          }
          ```
      2. Ordered list item 2


[^52]: # Query syntax

    ## Overview

    Global search  <kbd>Ctrl</kbd>+<kbd>P</kbd> supports advanced search through query syntax, in order to implement some logical operations, such as the query syntax that contains the keyword `foo` and does not contain the keyword `bar` is `foo NOT bar`.

    Before using the query syntax, let's have a general understanding of its composition:

    - String: composed of letters, numbers, etc.
    - Phrase: composed of strings
    - Query: composed of phrases, multiple queries can be combined into a new query through `AND`, `OR` and `NOT`

    Below we introduce their details respectively.

    ## Strings

    Strings can be specified in two ways:

    - Characters enclosed in English double quotes `"`. If `"` itself needs to be used, it can be escaped by SQL-style (plus a `"`), for example `"foo""bar"""` will hits `foo "bar"`
    - Consists of non `AND`, `OR` and `NOT` characters, and these characters must be:

      - All non-ASCII characters, or
      - Belongs to 52 uppercase and lowercase English characters (`A-Za-z`), or
      - Belongs to 10 ASCII numeric characters (`0-9`), or
      - Is an underscore `_`, or
      - Is the replacement character (ASCII 26)

    For strings that are not composed of other characters mentioned above, they must be wrapped with `"`, such as strings containing `-`, `*` and other symbols.

    ## Phrases

    Phrases consist of strings, which can be concatenated by `+`. A phrase is composed of some tokens in order, and these tokens are processed by the user's input text through the tokenizer. The tokenizer used by SiYuan is to make Chinese search easy to use (supports single-word search), so the implementation is based on word segmentation, which means that each Chinese character or English letter will be split into a token. This has some effect on `+` concatenation, so it is recommended not to use `+` to combine multiple phrases if unsure.

    ## Queries

    A query consists of multiple phrases, which can be combined into a new query by the operators `AND`, `OR`, and `NOT`.

    |Operator|Function|
    | ----------| -----------------------------------------------------|
    |`<query1> AND <query2>`|Matches if both query1 and query2 match|
    |`<query1> OR <query2>`|Matches if either query1 or query2 match|
    |`<query1> NOT <query2>`|Matches if query1 matches and query2 does not match|

    Use parentheses `()` to combine query priorities, for example:

    ```sql
    -- Matches documents that contain at least one instance of either "one" or "two", but do not contain any instances of token "three".
    'one OR two NOT three'

    -- Match all documents that contain the token "two" but not "three", or contain the token "one".
    'one OR (two NOT three)'
    ```
    Multiple phrases separated by spaces use `AND` by default, for example:

    ```sql
    'one two three'         -- 'one AND two AND three'
    'three "one two"'       -- 'three AND "one two"'
    'NEAR(one two) three'   -- 'NEAR(one two) AND three'
    'one OR two three'      -- 'one OR two AND three'

    '(one OR two) three'    -- Syntax error!
    'func(one two)'         -- Syntax error!
    ```
    ## Technical implementation

    We implement global search through [SQLite FTS5](https://www.sqlite.org/fts5.html).

    The key part of the query statement generated by the system is roughly `MATCH '{content name alias memo}:" + query`, `query` is the user input part, for [column filter](https://www.sqlite.org/fts5%20.html#fts5_column_filters) `{content name alias memo}:` is generated by <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Attribute</kbd>.

    After knowing these, we can implement the query embedding block through the query syntax, so that the query performance will be better:

    Global search  <kbd>Ctrl</kbd>+<kbd>P</kbd> supports advanced search through query syntax, in order to implement some logical operations, such as the query syntax that contains the keyword `foo` and does not contain the keyword `bar` is `foo NOT bar`.

    In addition to this, the API also supports querying using FTS.

    ### Case Sensitive

    If the <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Case Sensitivity</kbd> option is enabled, the search will be case-sensitive. By default, this option is disabled, that is, insensitive upper and lower case.

    Since the tokenizer is case-sensitive, we build two virtual tables to index separately:

    - `blocks_fts`: word segmentation by character
    - `blocks_fts_case_insensitive`: Convert English letters to lowercase participles

    The disadvantage of this is that it increases disk space usage and reduces indexing performance, but there is currently no better solution, so it can only be done first. In addition, diacritics are not supported, only supported case insensitive.

    If you have a better implementation, please let us know, thank you very much.


[^53]: # Database table

    ## Table `blocks`

    This table is used to store content block data.

    |Field|Description|
    | ----------: | --------------------------------------------------------------------------------|
    |id|Content block ID|
    |parent_id|Parent block ID, If the content block is a document block, this field is empty|
    |root_id|Root block ID, which is the document block ID|
    |hash|Summary checksum of the content|
    |box|Notebook ID|
    |path|The path of the document where the content block is located|
    |hpath|The path to the document where the human-readable content block is located|
    |name|Content block name|
    |alias|Content block alias|
    |memo|Content block memo|
    |content|Text with Markdown markers removed|
    |fcontent|The first child block text with Markdown markers removed|
    |markdown|Text with complete Markdown markers|
    |length|Length of `fcontent`‚Äã|
    |type|Content block type, please refer to here[^12]|
    |subtype|Content block subtype, please refer to here[^13]|
    |ial|Inline attributes list, like  `{: name="value"}`‚Äã|
    |sort|For sorting, the smaller the value, the higher the sort|
    |created|Create time, for example `20221013202001`‚Äã|
    |updated|Update time, for example `20221013202001`‚Äã|

    ## Default values

    - If `LIMIT` is not specified, only the first 64 results will be returned at most, adjustable via <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>The number of search results displayed</kbd>
    - ‚Äã`sort` field

      - Heading block: `5`‚Äã
      - Paragraph block: `10`‚Äã
      - Code block: `10`‚Äã
      - Mathematical formula block: `10`‚Äã
      - Table block: `10`‚Äã
      - HTML block: `10`‚Äã
      - List block: `20`‚Äã
      - List item block: `20`‚Äã
      - Blockquote block: `20`‚Äã
      - Super block: `30`‚Äã
      - Database block: `30`‚Äã
      - Document block: `0`‚Äã


[^54]: # Type filtering

    ## Type field `type`

    - ‚Äã`d` Document block (Only search on the document name, will not search for the document containing content blocks)
    - ‚Äã`h` Heading block (Search only on the heading name, not the content blocks below the heading block)
    - ‚Äã`l` List block (including ordered list block, unordered list block and task list block)
    - ‚Äã`i` List item block
    - ‚Äã`b` Blockquote block
    - ‚Äã`s` Super block
    - ‚Äã`p` Paragraph block
    - ‚Äã`c` Code block
    - ‚Äã`m` Formula block
    - ‚Äã`t` Table block
    - ‚Äã`av` Database block
    - ‚Äã`query_embed` Embed block
    - ‚Äã`video` Video block
    - ‚Äã`audio` Audio block
    - ‚Äã`widget` Widget block
    - ‚Äã`iframe` IFrame block
    - ‚Äã`html` HTML block
    - ‚Äã`tb` Thematic break

    ## Subtype field `subtype`

    List block / List item block subtypes:

    - `o`ÔºöOrdered
    - `u`ÔºöUnordered
    - `t`ÔºöTask

    Heading subtypes:

    - `h1`: Level 1
    - `h2`: Level 2
    - `h3`: Level 3
    - `h4`: Level 4
    - `h5`: Level 5
    - `h6`: Level 6

    Other types of content blocks have no subtypes.


[^55]: # Ignore indexing

    ## Overview

    Ignore indexing means not indexing document data into the database, making the data completely unsearchable and reducing database size.

    ## How to use

    Manually create or edit the `workspace/data/.siyuan/indexignore` text file on the file system, where each line serves as an ignore path and supports gitignore syntax. For example:

    ```
    20210808180117-6v0mkxr/20200923234011-ieuun1p.sy
    20210808180117-6v0mkxr/**/*
    ```
    - ‚Äã`20210808180117-6v0mkxr/20200923234011-ieuun1p.sy`: Ignore indexing the 20200923234011-ieuun1p.sy document under the data/20210808180117-6v0mkxr notebook
    - ‚Äã`20210808180117-6v0mkxr/**/*`: Ignore indexing all documents under the data/20210808180117-6v0mkxr notebook

    You need to manually rebuild the index after modifying the configuration file.


[^56]: # Ignore search

    ## Overview

    Ignoring searches refers to filtering out certain unwanted results when searching.

    ## How to use

    Ignoring global search and ignoring reference search need to be configured separately:

    - Ignore global search: manually create or edit the `workspace/data/.siyuan/searchignore` text file on the file system
    - Ignore reference search: manually create or edit the `workspace/data/.siyuan/refsearchignore` text file on the file system

    Each line in these ignore configuration files will be used as a condition for SQL path NOT LIKE, for example:

    ```
    path NOT LIKE '/20210808180117-6v0mkxr%'
    box != '20210808180117-czj9bvb'
    id != '20200923234011-ieuun1p'
    ```
    - ‚Äã`path NOT LIKE '/20210808180117-6v0mkxr%'`: Ignore content block searches where the document path begins with ‚Äã/20210808180117-6v0mkxr
    - ‚Äã`box != '20210808180117-czj9bvb'`: Ignore content block searches under the notebook data/20210808180117-czj9bvb
    - ‚Äã`id != '20200923234011-ieuun1p'`: Ignore content block searches with id ‚Äã20200923234011-ieuun1p

    It will take 30 seconds to take effect after modifying the configuration file.


[^57]: # Icon

    ## Overview

    Icon packs can be downloaded from the community marketplace or installed manually.

    ### Community Marketplace

    - Browse icons contributed by community developers online in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Marketplace</kbd> - <kbd>Icons</kbd>‚Äã
    - Select the desired icon to install or update online

    ### Manual installation

    1. Get the icon and unzip
    2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Icon</kbd> - <kbd>Open Icon Folder</kbd>
    3. Copy the icon to this directory
    4. Restart, select the installed icon in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Icon</kbd>

    ## Development

    ### Step

    1. Give your icon a nice name, such as `alice`
    2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Icon</kbd> - <kbd>Open Icon Folder</kbd>
    3. Create a new folder `alice` in the opened folder, and create new `icon.js` and `icon.json` files in `alice`, for specific examples, please refer to github repo: siyuan-note/icon-sample
    4. Open the `icon.js` file and paste the completed icon
    5. Restart, select the installed icon in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Icon</kbd>

    ### Icon production

    - Use a browser to open the `index.html` file in the icon folder
    - Make similar icons based on the icon name and shape

      - Go to [Iconfont](https://www.iconfont.cn) to search for your favorite icon and download the SVG format
      - Use vector graphics tools to make your own icons in SVG format
      - Go to [pngtosvg](https://www.pngtosvg.com/) to convert the picture to SVG format
    - Go to [IcoMoon App](https://icomoon.io/app/#/select) to make `icon.js`‚Äã

      - Click on `Import Icons` in the upper right corner to import the pictures made in the previous step
      - Select the icon and generate SVG  
        ![custom-icon1.png](assets/custom-icon1-20210512172156-jaoyrnz.png)
      - Modify the size and download  
        ![custom-icon2.png](assets/custom-icon2-20210512172204-dphc486.png)
      - Modify the `id` in `<symbol id="iconMarkdown" viewBox="0 0 32 32">` to the icon name corresponding to `index.html`‚Äã
      - Replace the content in `<defs>...</defs>` to the corresponding position in `icon.js`‚Äã
    - Test

      - Replace `material` in `index.html` with `alice`‚Äã

        ```html
        <script src="material/icon.js"></script>
        ```
      - Refresh `index.html` to see the final result
      - Open SiYuan and select the developed icon in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Icon</kbd> to view

    ## Push to icon marketplace

    Please refer to [Community marketplace repo](https://b3log.org/siyuan/en/community.html).


[^58]: # Theme

    ## Overview

    There are two ways to customize the theme:

    - Code snippet
    - Theme pack

    ## Code snippet

    1. Go to <kbd>Settings</kbd> - <kbd>Appearance</kbd> and click  <kbd>Code Snippet</kbd>, select CSS tab
    2. Input title
    3. According to the theme and the variables in theme.css, refer to the following writing method to encode and fill in the code snippet

        ```css
        html[data-light-theme="daylight"][data-theme-mode="light"] {
            --b3-theme-primary: red;
        }

        html[data-light-theme="daylight"][data-theme-mode="dark"] {
            --b3-theme-primary: blue;
        }
        ```
    4. Enable this code snippet
    5. Click the Confirm button

    ## Theme pack

    Theme packs can be downloaded from the community marketplace or installed manually.

    ### Community Marketplace

    - In <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Marketplace</kbd> - <kbd>Theme</kbd>, browse online themes contributed by community developers
    - Choose the required theme to install or update online

    ## Manual installation

    1. Get the theme from somewhere and unzip it
    2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd> - <kbd>Open the theme folder</kbd>
    3. Copy the theme to this folder
    4. Restart, select the desired theme in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd>

    ## Development

    ### Step

    1. Give your subject a nice name, such as `alice`
    2. <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd> - <kbd>Open theme folder</kbd>
    3. Create a new folder `alice` in the opened folder, and create new `theme.css` and `theme.json` files in `alice`, for specific examples, please refer to github repo: siyuan-note/theme-sample
    4. Open the `theme.css` file to start your coding journey
    5. Restart, select the installed theme in <kbd>Settings</kbd> - <kbd>Appearance</kbd> - <kbd>Theme</kbd>

    ### Encoding

    - Familiar with [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) basic knowledge
    - Modify the color scheme in `:root{...}`. ‚ö†Ô∏è The variable items inherent in the official cannot be deleted
    - Continue to modify according to steps 1-4 in the figure  
      ![custom-theme1.png](assets/custom-theme1-20210512172253-eqdgnkd.png)
    - Copy and paste the modified content into `theme.css` and save
    - Check the `Disable cache` in `Network` and run `window.location.reload()` to see the final result  
      ![custom-theme2.png](assets/custom-theme2-20210512172321-1qkspzd.png)

    ## Push to theme marketplace

    Please refer to [Community marketplace repo](https://b3log.org/siyuan/en/community.html).


[^59]: # Import and Export

    ## Import

    ### Markdown

    SiYuan supports importing Markdown files. So if you need to import data from other note-taking software, please convert the data into Markdown files first.

    If the image syntax (local relative path) like `![foo](images/bar.png)` is encountered during import, SiYuan will convert `images/bar.png` into assets[^20]. But if it is `.images/bar.png`, it will not be converted, because the path files starting with `.` are hidden files, SiYuan will not process them.

    If you need to recognize some extended syntax (such as superscript `^foo^`, subscript `~foo~`, tag `#foo` and formula `$foo$`, etc.), please open <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Markdown syntax</kbd> related switches.

    ### Data

    You can import and export data in <kbd>Settings</kbd> - <kbd>Export</kbd> on the desktop-end and <kbd>About</kbd> on the right sidebar on the mobile-end. The export here will completely copy and pack the `workspace/data/` folder into a zip archive.

    The <kbd>Import Data</kbd> function only supports processing the data archive exported in the above steps. The import is copied to the current `workspace/data/` folder according to the file path in the archive:

    - Duplicate files are overwritten
    - Add files that do not exist
    - Do not do any processing for existing files

    #Note#: Please pay attention before use, to avoid existing data being overwritten and unrecoverable.

    ## Export

    ### Edit content copy

    After selecting the content, use the copy shortcut <kbd>Ctrl</kbd>+<kbd>C</kbd>, and the clipboard is standard Markdown text.

    If you need to copy HTML content, please switch to <kbd>Export Preview</kbd> from <kbd>Toogle Mode</kbd> in the <kbd>Ô∏ô</kbd> menu in the upper right corner of the editor tab before copying.

    ### Full text export

    After selecting the document on the document tree, right-click and select <kbd>Export</kbd> or select <kbd>Export</kbd> from the <kbd>Ô∏ô</kbd> menu in the upper right corner of the editor tab:

    - Markdown
    - PDF
    - HTML
    - Word .docx

    There are some options in <kbd>Settings</kbd> - <kbd>Export</kbd> to configure export processing, please refer to the prompt information on this interface for details.


[^60]: # Web Clipping

    ## Overview

    "Web Clipping" refers to copying the content on the Web page to SiYuan, and keeping its original format as much as possible.

    ## How to use

    - If you do not need to pull the pictures contained in the clipped content to the local, you can directly select copy in the browser, and then paste it in SiYuan
    - If you need to pull the pictures contained in the clipped content to the local, you can use [SiYuan Chrome Extension](https://liuyun.io/article/1692529862454)

    ### SiYuan Chrome Extension

    1. Install the extension, configure the API token in the extended options (token can be viewed in SiYuan Settings - About)
    2. Select the content to be clipped on the web page, and then select "Copy to SiYuan" from the right-click menu
    3. Paste in SiYuan

    If you need to clip the entire article, you can click "Send to SiYuan" directly on the extension.


[^61]: # Daily notes

    We can quickly create a document through the daily note, and the daily note function entrance is in the top main menu.

    Before using the daily note, you need to open <kbd>Settings</kbd> in the notebook right-click menu, and configure in the new diary settings:

    - Save path: the path under the notebook, support template variables[^62]
    - Template path (optional): use this template as the initial content when creating the daily note

    Tips: Use in the specified template Embed Content Block[^10] to summarize to-do items or content blocks that need to be viewed daily.


[^62]: We have built-in variables and functions to enrich the template through the open source project Sprig (GitHub repo: Masterminds/sprig). For example, you can use `.action{now | date "2006-01-02 15:04:05"}` to render the current time. For more usage, please refer to [Sprig Function Documentation](http://masterminds.github.io/sprig/).


[^63]: # Bookmark and Tag

    ## Bookmark

    If you need to "favorite" content blocks, please open the attribute panel through the block icon menu, and then you can set bookmarks in the attribute panel.

    All favorite content blocks will be listed in the bookmark tab (<kbd>Alt</kbd>+<kbd>3</kbd> / <kbd>‚åÉ3</kbd>). If you want to cancel the collection, select Delete in the drop-down menu of the content block ID.

    ## Tag

    The tag is used to mark the block in the content block. The syntax is to wrap the tag identifier with two `#` in the first and one after the other, like this `#Tag#`.

    Tag support hierarchical levels, so that content blocks can be sorted more easily. Use `/` to separate different levels, like this `#A/B/C#`.

    All tagged content blocks will be listed in the tag tab (<kbd>Alt</kbd>+<kbd>4</kbd> / <kbd>‚åÉ4</kbd>). If you need to cancel the tag, just delete the tag in the content block.

    ## #Note#‚Äã

    Please do not use special symbols in bookmarks or tags, otherwise you will not be able to search globally, and you will not be able to rename and delete them in the bookmarks/tags panel. The "special symbols" here include: `*`, `_`, `[`, `]`, `!`, `\`, `` ` `` , `<`, `>`, `&`, `~ `, `$`, `(`, `)`, `{`, `}`, `=` and `#`.


[^64]: # Database

    ## Overview

    The database consists of content blocks or non-content block data, and is presented in different views, such as table view and kanban view (kanban view is still under development).

    ## Table view

    - Created through `/Database`, the default view is the table view
    - Add different types of fields
    - Add entry

      - Non-content block: Entries added directly to the table, not bound to any content block
      - Content block: Entries added by dragging to the table, or entries added through the block menu <kbd>Add to Database</kbd>‚Äã
    - Set filtering and sorting as needed
    - Multiple views can be added to the same database. All views share the same data, but filtering and sorting settings are independent of each other.

    ## Mirror database

    Copying and pasting a database block will form a mirror database, that is, these database blocks share the same database data. Modifying the data of any database block will be synchronized to all other mirrors.

    ## Relation and Rollup

    The two databases can be connected through <kbd>Relation</kbd> to facilitate linkage management. For example, the relationship between the two databases `Authors` and `Books`:

    |Author|Works|Works count|
    | -----------| -------------------------------------------| -----------|
    |Jules Verne|Twenty Thousand Leagues Under The Sea|1|
    |Liu Cixin|The Wandering Earth, The Three-Body Problem|2|

    |Book|Type|Author|Cover|
    | -------------------------------------| ---------------| -----------| ----------------------------------------------------------------------------------------------------------------|
    |Twenty Thousand Leagues Under The Sea|Science fiction|Jules Verne|![Twenty Thousand Leagues Under The Sea.jpg](assets/Twenty%20Thousand%20Leagues%20Under%20The%20Sea-20250615171529-xe6m1pq.jpg)|
    |The Three-Body Problem|Science fiction|Liu Cixin|![The Three-Body Problem.jpg](assets/The%20Three-Body%20Problem-20250615172306-m3x7sjf.jpg)|
    |The Wandering Earth|Science fiction|Liu Cixin|![The Wandering Earth.jpg](assets/The%20Wandering%20Earth-20250615172312-gsrhh7s.jpg)|

    In the `Author` database, the `Works count` is summarized and statistics are made on its `Works`, and the statistics method is `Count all`.

    ## Template

    Templates can access, calculate and render the values of other fields in the same piece of data through the syntax introduced in template snippets[^23]:

    - Use `.action{ .field }` to access view properties
    - Use `.action{ index . "custom-xxx" }` to access content block custom attributes

    For example, the following `Bills` database `Template` field demonstrates the sum of `Food` and `Clothing`:

    |Member|Food|Clothing|Template|Template accessible fields|
    | -------| ----| --------| --------| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |Vanessa|200|200|400|{   "Clothing": 200,   "Clothing_raw": {     "id": "20240208173638-mynirul",     "keyID": "20240208173613-63yyflw",     "blockID": "20240208173547-veq5qz2",     "type": "number",     "createdAt": 1707384998000,     "updatedAt": 1707384998000,     "number": {       "content": 200,       "isNotEmpty": true,       "format": "",       "formattedContent": "200"     }   },   "Food": 200,   "Food_raw": {     "id": "20240208173634-tgqb4mj",     "keyID": "20240208173602-eb1t8f3",     "blockID": "20240208173547-veq5qz2",     "type": "number",     "createdAt": 1707384994000,     "updatedAt": 1707384994000,     "number": {       "content": 200,       "isNotEmpty": true,       "format": "",       "formattedContent": "200"     }   },   "Member": "Vanessa",   "Member_created": "2025-08-01T11:21:33.119400315+08:00",   "Member_raw": {     "id": "20240208173547-9x0d8po",     "keyID": "20240208173528-sr9mgm6",     "blockID": "20240208173547-veq5qz2",     "type": "block",     "isDetached": true,     "createdAt": 1707384947000,     "updatedAt": 1707384947000,     "block": {       "id": "20240208173547-veq5qz2",       "icon": "",       "content": "Vanessa",       "created": 1707384947609,       "updated": 1707385000686     }   },   "created": "2024-02-08T17:35:47+08:00",   "entryCreated": "2024-02-08T17:35:47.609+08:00",   "entryUpdated": "2024-02-08T17:36:40.686+08:00",   "id": "20240208173547-veq5qz2",   "id_mod": {     "20240208173528-sr9mgm6": "Vanessa",     "20240208173602-eb1t8f3": 200,     "20240208173613-63yyflw": 200   },   "id_mod_raw": {     "20240208173528-sr9mgm6": {       "id": "20240208173547-9x0d8po",       "keyID": "20240208173528-sr9mgm6",       "blockID": "20240208173547-veq5qz2",       "type": "block",       "isDetached": true,       "createdAt": 1707384947000,       "updatedAt": 1707384947000,       "block": {         "id": "20240208173547-veq5qz2",         "icon": "",         "content": "Vanessa",         "created": 1707384947609,         "updated": 1707385000686       }     },     "20240208173602-eb1t8f3": {       "id": "20240208173634-tgqb4mj",       "keyID": "20240208173602-eb1t8f3",       "blockID": "20240208173547-veq5qz2",       "type": "number",       "createdAt": 1707384994000,       "updatedAt": 1707384994000,       "number": {         "content": 200,         "isNotEmpty": true,         "format": "",         "formattedContent": "200"       }     },     "20240208173613-63yyflw": {       "id": "20240208173638-mynirul",       "keyID": "20240208173613-63yyflw",       "blockID": "20240208173547-veq5qz2",       "type": "number",       "createdAt": 1707384998000,       "updatedAt": 1707384998000,       "number": {         "content": 200,         "isNotEmpty": true,         "format": "",         "formattedContent": "200"       }     }   },   "updated": "2024-02-08T17:36:40+08:00" }|
    |Daniel|100|100|200|{   "Clothing": 100,   "Clothing_raw": {     "id": "20240208173643-tqf89zr",     "keyID": "20240208173613-63yyflw",     "blockID": "20240208173640-vtvezcd",     "type": "number",     "createdAt": 1707385003000,     "updatedAt": 1707385003000,     "number": {       "content": 100,       "isNotEmpty": true,       "format": "",       "formattedContent": "100"     }   },   "Food": 100,   "Food_raw": {     "id": "20240208173642-zmtnj1n",     "keyID": "20240208173602-eb1t8f3",     "blockID": "20240208173640-vtvezcd",     "type": "number",     "createdAt": 1707385002000,     "updatedAt": 1707385002000,     "number": {       "content": 100,       "isNotEmpty": true,       "format": "",       "formattedContent": "100"     }   },   "Member": "Daniel",   "Member_created": "2025-08-01T11:21:33.119536291+08:00",   "Member_raw": {     "id": "20240208173640-2a2sjas",     "keyID": "20240208173528-sr9mgm6",     "blockID": "20240208173640-vtvezcd",     "type": "block",     "isDetached": true,     "createdAt": 1707385000000,     "updatedAt": 1707385000000,     "block": {       "id": "20240208173640-vtvezcd",       "icon": "",       "content": "Daniel",       "created": 1707385000748,       "updated": 1707385005315     }   },   "created": "2024-02-08T17:36:40+08:00",   "entryCreated": "2024-02-08T17:36:40.748+08:00",   "entryUpdated": "2024-02-08T17:36:45.315+08:00",   "id": "20240208173640-vtvezcd",   "id_mod": {     "20240208173528-sr9mgm6": "Daniel",     "20240208173602-eb1t8f3": 100,     "20240208173613-63yyflw": 100   },   "id_mod_raw": {     "20240208173528-sr9mgm6": {       "id": "20240208173640-2a2sjas",       "keyID": "20240208173528-sr9mgm6",       "blockID": "20240208173640-vtvezcd",       "type": "block",       "isDetached": true,       "createdAt": 1707385000000,       "updatedAt": 1707385000000,       "block": {         "id": "20240208173640-vtvezcd",         "icon": "",         "content": "Daniel",         "created": 1707385000748,         "updated": 1707385005315       }     },     "20240208173602-eb1t8f3": {       "id": "20240208173642-zmtnj1n",       "keyID": "20240208173602-eb1t8f3",       "blockID": "20240208173640-vtvezcd",       "type": "number",       "createdAt": 1707385002000,       "updatedAt": 1707385002000,       "number": {         "content": 100,         "isNotEmpty": true,         "format": "",         "formattedContent": "100"       }     },     "20240208173613-63yyflw": {       "id": "20240208173643-tqf89zr",       "keyID": "20240208173613-63yyflw",       "blockID": "20240208173640-vtvezcd",       "type": "number",       "createdAt": 1707385003000,       "updatedAt": 1707385003000,       "number": {         "content": 100,         "isNotEmpty": true,         "format": "",         "formattedContent": "100"       }     }   },   "updated": "2024-02-08T17:36:45+08:00" }|

    ## #Note#‚Äã

    If you need to wrap a line in a database cell, use <kbd>Shift</kbd>+<kbd>Enter</kbd> .


[^65]: # PDF annotation

    ## Insert PDF asset

    After the PDF file is uploaded and inserted through the editor, the PDF will be placed in the assets folder, and a link in the form of `[filename](assets/filename.pdf)` will be generated in the document. Click the link to use SiYuan for preview.

    ## Hyperlink page jump

    Open the new tab to preview the PDF and support the specified page number. You need to add the parameter `page` to the link. For example, if you need to jump to the seventh page, edit the link to `[filename](assets/filename.pdf?page=7)` .

    ## Annotation

    The PDF preview can be marked by selection, and the annotation can be copied to the document:

    - Click the reference link in the document to open the PDF and jump to the annotation
    - Hover the mark in the PDF to preview the ref block


[^66]: # Virtual reference

    ## Overview

    Virtual reference is a kind of "block ref" that is automatically detected based on the anchor text of the existing block ref or the name of the block, but it is not actually linked to the block, but only marked in the editor, and supports floating window preview .

    ## How to use

    Open the <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Virtual Reference</kbd> switch.

    ## Detection rules

    Search based on the anchor text/definition block text of the existing block ref, the name and alias of the block as keywords. If these keywords are searched on the plain text element of the current content block, it will be used as a virtual reference.

    The keyword search scope can be adjusted in <kbd>Settings</kbd> - <kbd>Search</kbd> - <kbd>Virtual reference</kbd>.

    ## #Note#

    - For performance reasons, virtual references do not take effect immediately. If they are not displayed, you can try to refresh the current document via <kbd>F5</kbd>‚Äã


[^67]: # Hyperlink

    ## Overview

    If you need to pull up the SiYuan desktop application in other places (such as a browser or software that supports hyperlinks), you can use the `siyuan://` hyperlink.

    ## Link format

    `siyuan://blocks/{id}`: Open the content block directly, and the notebook where the block is located is already open.

    Add query string parameter `focus=1` (`siyuan://blocks/{id}?focus=1`) to indicate focus is on.

    ## How to use

    - After startup on Windows and macOS, it will automatically apply to the system for registration of the `siyuan://` protocol
    - On Linux try the following steps

      - Create or find the `siyuan.desktop` file and open it for editing

        - `MimeType=MimeType=x-scheme-handler/siyuan;`
        - Add `%u` at the end of `Exec`, that is, `Exec=executable file path %u`
      - Execute the following commands

        ```java
        sudo update-desktop-database
        xdg-mime default siyuan.desktop x-scheme-handler/siyuan
        xdg-settings set default-url-scheme-handler siyuan siyuan.desktop
        ```
        For more details, refer to [xdg-utils](https://www.freedesktop.org/wiki/Software/xdg-utils/).
    - ‚Äã<kbd>Block icon menu</kbd> - <kbd>Copy</kbd> - <kbd>Copy block hyperlink</kbd>‚Äã


[^68]: # Artificial Intelligence

    ## Overview

    Supports text dialogue through [OpenAI](https://openai.com/) Chat API.

    ## How to use

    1. Register an OpenAI account and create an API Key
    2. Configure in <kbd>Settings</kbd> - <kbd>AI</kbd>‚Äã
    3. Use <kbd>/AI writing</kbd> to call up the dialog box, enter a question or demand and confirm
    4. Perform more operations through the block menu <kbd>Artificial Intelligence</kbd>‚Äã

    ## #Note#‚Äã

    - This function will send the relevant text to OpenAI
    - There will be a fee for calling the OpenAI API


[^69]: # Shortcuts

    ## General

    |Name|Shortcuts|Memo|
    | -----------------------------| ---------------------------| ----------------------------------------------------------|
    |Main menu|<kbd>Alt</kbd>+<kbd>\</kbd> / <kbd>‚å•\</kbd>‚Äã||
    |New doc|‚Äã<kbd>Ctrl</kbd>+<kbd>N</kbd> / <kbd>‚åòN</kbd>‚Äã||
    |Recently opened documents|‚Äã<kbd>Ctrl</kbd>+<kbd>E</kbd> / <kbd>‚åòE</kbd>‚Äã<br />||
    |Global search|‚Äã<kbd>Ctrl</kbd>+<kbd>P</kbd> / <kbd>‚åòP</kbd>‚Äã||
    |Search|‚Äã<kbd>Ctrl</kbd>+<kbd>F</kbd> / <kbd>‚åòF</kbd>‚Äã||
    |Replace|‚Äã<kbd>Ctrl</kbd>+<kbd>R</kbd> / <kbd>‚åòR</kbd>‚Äã||
    |Toggle edit mode|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>G</kbd> / <kbd>‚áß‚åòG</kbd>‚Äã||
    |Close tab|‚Äã<kbd>Ctrl</kbd>+<kbd>W</kbd> / <kbd>‚åòW</kbd>‚Äã||
    |Jump to next edit tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Tab</kbd> / <kbd>‚åÉ‚á•</kbd>‚Äã||
    |Jump to previous edit tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Tab</kbd> / <kbd>‚åÉ‚áß‚á•</kbd>‚Äã||
    |Jump to the first tab|‚Äã<kbd>Ctrl</kbd>+<kbd>1</kbd> / <kbd>‚åò1</kbd>‚Äã||
    |Jump to the second tab|‚Äã<kbd>Ctrl</kbd>+<kbd>2</kbd> / <kbd>‚åò2</kbd>‚Äã||
    |Jump to the third tab|‚Äã<kbd>Ctrl</kbd>+<kbd>3</kbd> / <kbd>‚åò3</kbd>‚Äã||
    |Jump to the fourth tab|‚Äã<kbd>Ctrl</kbd>+<kbd>4</kbd> / <kbd>‚åò4</kbd>‚Äã||
    |Jump to the fifth tab|‚Äã<kbd>Ctrl</kbd>+<kbd>5</kbd> / <kbd>‚åò5</kbd>‚Äã||
    |Jump to the sixth tab|‚Äã<kbd>Ctrl</kbd>+<kbd>6</kbd> / <kbd>‚åò6</kbd>‚Äã||
    |Jump to the seventh tab|‚Äã<kbd>Ctrl</kbd>+<kbd>7</kbd> / <kbd>‚åò7</kbd>‚Äã||
    |Jump to the eighth tab|‚Äã<kbd>Ctrl</kbd>+<kbd>8</kbd> / <kbd>‚åò8</kbd>‚Äã||
    |Jump to the ninth/last tab|‚Äã<kbd>Ctrl</kbd>+<kbd>9</kbd> / <kbd>‚åò9</kbd>‚Äã||
    |Select next tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>[</kbd> / <kbd>‚áß‚åò[</kbd>‚Äã||
    |Select previous tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>]</kbd> / <kbd>‚áß‚åò]</kbd>‚Äã||
    |Split Right tab|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Split and Move Right tab|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Split Down tab|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Split and Move Down tab|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Unsplit|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Unsplit All|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Doc tree panel|‚Äã<kbd>Alt</kbd>+<kbd>1</kbd> / <kbd>‚åÉ1</kbd>‚Äã||
    |Linkage outline panel|‚Äã<kbd>Alt</kbd>+<kbd>2</kbd> / <kbd>‚åÉ2</kbd>‚Äã||
    |Bookmark panel|‚Äã<kbd>Alt</kbd>+<kbd>3</kbd> / <kbd>‚åÉ3</kbd>‚Äã||
    |Tag panel|‚Äã<kbd>Alt</kbd>+<kbd>4</kbd> / <kbd>‚åÉ4</kbd>‚Äã||
    |Daily notes|‚Äã<kbd>Alt</kbd>+<kbd>5</kbd> / <kbd>‚åÉ5</kbd>‚Äã||
    |Inbox|‚Äã<kbd>Alt</kbd>+<kbd>6</kbd> / <kbd>‚åÉ6</kbd>‚Äã||
    |Linkage backlink panel|‚Äã<kbd>Alt</kbd>+<kbd>7</kbd> / <kbd>‚åÉ7</kbd>‚Äã||
    |Linkage graph panel|‚Äã<kbd>Alt</kbd>+<kbd>8</kbd> / <kbd>‚åÉ8</kbd>‚Äã||
    |Global graph panel|‚Äã<kbd>Alt</kbd>+<kbd>9</kbd> / <kbd>‚åÉ9</kbd>‚Äã||
    |Flashcard spaced repetition|‚Äã<kbd>Alt</kbd>+<kbd>0</kbd> / <kbd>‚åÉ0</kbd>‚Äã||
    |Settings|‚Äã<kbd>Alt</kbd>+<kbd>P</kbd> / <kbd>‚å•P</kbd>‚Äã||
    |Page reset|‚Äã<kbd>Ctrl</kbd>+<kbd>0</kbd> / <kbd>‚åò0</kbd>‚Äã||
    |Page zoom in|‚Äã<kbd>Ctrl</kbd>+<kbd>=</kbd> / <kbd>‚åò=</kbd>‚Äã||
    |Page zoom out|‚Äã<kbd>Ctrl</kbd>+<kbd>-</kbd> / <kbd>‚åò-</kbd>‚Äã||
    |Hide/show window|‚Äã<kbd>Alt</kbd>+<kbd>M</kbd> / <kbd>‚å•M</kbd>‚Äã||
    |Lock screen|‚Äã<kbd>Alt</kbd>+<kbd>N</kbd> / <kbd>‚å•N</kbd>‚Äã||
    |Select up and down|‚Äã<kbd>‚Üë</kbd> / <kbd>‚Üì</kbd>‚Äã|When the prompt list appears, you can select up and down|
    |Complete selection|‚Äã<kbd>Enter</kbd>‚Äã|Use the highlighted content in the list to complete|
    |Move doc|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Locate open documents|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Add to Database|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|

    ## Doc tree

    |Name|Shortcuts|Memo|
    | -------------------------------| ---------------------| -----------------------------------------------------------------------------------------------------------------------------|
    |Context menu|‚Äã<kbd>Ctrl</kbd>+<kbd>/</kbd> / <kbd>‚åò/</kbd>‚Äã||
    |Choose|‚Äã<kbd>‚Üë</kbd> / <kbd>‚Üì</kbd> / <kbd>‚Üí</kbd> / <kbd>‚Üê</kbd>‚Äã||
    |Select or deselect block up|‚Äã<kbd>Shift</kbd>+<kbd>‚Üë</kbd> / <kbd>‚áß‚Üë</kbd>‚Äã|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd> to select the document, then use the shortcut key; Long press the shortcut key to expand the selection quickly|
    |Select or deselect block down|‚Äã<kbd>Shift</kbd>+<kbd>‚Üì</kbd> / <kbd>‚áß‚Üì</kbd>‚Äã|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd> to select the document, then use the shortcut key; Long press the shortcut key to expand the selection quickly|
    |Open|‚Äã<kbd>Enter</kbd>‚Äã||
    |Delete|‚Äã<kbd>Delete</kbd>‚Äã||
    |Search|‚Äã<kbd>Ctrl</kbd>+<kbd>F</kbd> / <kbd>‚åòF</kbd>‚Äã<br />||
    |Replace|‚Äã<kbd>Ctrl</kbd>+<kbd>R</kbd> / <kbd>‚åòR</kbd>‚Äã||
    |Rename|‚Äã<kbd>F2</kbd>‚Äã||
    |Menu|‚Äã<kbd>Ctrl</kbd>+<kbd>/</kbd> / <kbd>‚åò/</kbd>‚Äã||
    |Flashcard Spaced Repeatition|‚Äã<kbd>Alt</kbd>+<kbd>F</kbd> / <kbd>‚å•F</kbd>‚Äã||
    |Move doc|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Select opened doc|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|

    ## Editor

    ### General

    |Name|Shortcuts|Memo|
    | ------------------------------------------------------------------| ------------------------------| ---------------------------------------------------------------------------------------------------------------|
    |Select All|‚Äã<kbd>Ctrl</kbd>+<kbd>A</kbd> / <kbd>‚åòA</kbd>‚Äã|In the code block, only select the content of the code block|
    |Stick Search<br />|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd> / <kbd>‚áß‚åòF</kbd> / Click Tag||
    |Cut/cut block content|‚Äã<kbd>Ctrl</kbd>+<kbd>X</kbd> / <kbd>‚åòX</kbd>‚Äã|Cut block content when no content is selected|
    |Copy|‚Äã<kbd>Ctrl</kbd>+<kbd>C</kbd> / <kbd>‚åòC</kbd>‚Äã|Copy block content when no content is selected|
    |Copy block hyperlink|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>H</kbd> / <kbd>‚áß‚åòH</kbd>‚Äã||
    |Copy block embed|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>E</kbd> / <kbd>‚áß‚åòE</kbd>‚Äã||
    |Copy block reference|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>C</kbd> / <kbd>‚áß‚åòC</kbd>‚Äã||
    |Jump to the next block of the parent block|<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd> / <kbd>‚áß‚åòN</kbd>‚Äã||
    |Jump to the previous block of the parent block|<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>M</kbd> / <kbd>‚áß‚åòM</kbd>‚Äã||
    |Jump to parent block|<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>J</kbd> / <kbd>‚áß‚åòJ</kbd>‚Äã||
    |Duplicate current or selected block|‚Äã<kbd>Ctrl</kbd>+<kbd>D</kbd> / <kbd>‚åòD</kbd>‚Äã||
    |Paste|‚Äã<kbd>Ctrl</kbd>+<kbd>V</kbd> / <kbd>‚åòV</kbd>‚Äã|The selected content can be used as link text or block ref anchor|
    |Block attribute|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>A</kbd> / <kbd>‚å•‚åòA</kbd>‚Äã|Set block name when selecting content|
    |Quick make card|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd> / <kbd>‚å•‚åòF</kbd>‚Äã||
    |Revoke|‚Äã<kbd>Ctrl</kbd>+<kbd>Z</kbd> / <kbd>‚åòZ</kbd>‚Äã||
    |Redo|‚Äã<kbd>Ctrl</kbd>+<kbd>Y</kbd> / <kbd>‚åòY</kbd>‚Äã||
    |Rename|‚Äã<kbd>F2</kbd>‚Äã||
    |Use selection as name for new document and reference|‚Äã<kbd>F3</kbd>‚Äã||
    |Use selection as name for new document and reference|‚Äã<kbd>Ctrl</kbd>+<kbd>F3</kbd> / <kbd>‚åòF3</kbd>‚Äã|Follow the `Ref create doc save location`‚Äã|
    |Use the selection/block as the content of the new document|‚Äã<kbd>F4</kbd>‚Äã||
    |Refresh current editor|‚Äã<kbd>F5</kbd>‚Äã||
    |Open file location|‚Äã<kbd>Alt</kbd>+<kbd>A</kbd> / <kbd>‚å•A</kbd>‚Äã||
    |Outline|‚Äã<kbd>Alt</kbd>+<kbd>O</kbd> / <kbd>‚å•O</kbd>‚Äã||
    |Backlink|‚Äã<kbd>Alt</kbd>+<kbd>B</kbd> / <kbd>‚å•B</kbd>‚Äã||
    |Graph|‚Äã<kbd>Alt</kbd>+<kbd>G</kbd> / <kbd>‚å•G</kbd>‚Äã||
    |Flashcard Spaced Repeatition|‚Äã<kbd>Alt</kbd>+<kbd>F</kbd> / <kbd>‚å•F</kbd>‚Äã||
    |History|‚Äã<kbd>Alt</kbd>+<kbd>H</kbd> / <kbd>‚å•H</kbd>‚Äã||
    |Full screen|‚Äã<kbd>Alt</kbd>+<kbd>Y</kbd> / <kbd>‚å•Y</kbd>‚Äã||
    |Left|‚Äã<kbd>Alt</kbd>+<kbd>L</kbd> / <kbd>‚å•L</kbd>‚Äã||
    |Center|‚Äã<kbd>Alt</kbd>+<kbd>C</kbd> / <kbd>‚å•C</kbd>‚Äã||
    |Right|‚Äã<kbd>Alt</kbd>+<kbd>R</kbd> / <kbd>‚å•R</kbd>‚Äã||
    |Switch to Instant Rendering mode|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>7</kbd> / <kbd>‚å•‚åò7</kbd>‚Äã||
    |Switch to Preview mode|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>9</kbd> / <kbd>‚å•‚åò9</kbd>‚Äã||
    |Insert an empty block before the block|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>B</kbd> / <kbd>‚áß‚åòB</kbd>‚Äã||
    |Insert an empty block after the block|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd> / <kbd>‚áß‚åòA</kbd>‚Äã||
    |Move up the block|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>‚Üë</kbd> / <kbd>‚áß‚åò‚Üë</kbd>‚Äã||
    |Move down the block|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>‚Üì</kbd> / <kbd>‚áß‚åò‚Üì</kbd>‚Äã||
    |Select the content from the beginning of the line to the cursor|‚Äã<kbd>Shift</kbd>+<kbd>Home</kbd> / <kbd>‚áß‚åò‚Üê</kbd>‚Äã<br />||
    |Select the content from the cursor to the end of the line<br />|‚Äã<kbd>Shift</kbd>+<kbd>End</kbd> / <kbd>‚áß‚åò‚Üí</kbd>‚Äã<br />||
    |Select the content from the beginning of the block to the cursor|‚Äã<kbd>‚áß‚åÉA</kbd>‚Äã|macOS only|
    |Select the content from the cursor to the end of the block|‚Äã<kbd>‚áß‚åÉE</kbd>‚Äã|macOS only|
    |Select the content from the beginning of the page to the cursor|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Home</kbd> / <kbd>‚áßHome</kbd>‚Äã||
    |Select the content from the cursor to the end of the page|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>End</kbd> / <kbd>‚áßEnd</kbd>‚Äã||
    |Move the cursor to the beginning of the line|‚Äã<kbd>Home</kbd> / <kbd>‚åò‚Üê</kbd>‚Äã||
    |Move the cursor to the end of the line|‚Äã<kbd>End</kbd> / <kbd>‚åò‚Üí</kbd>‚Äã<br />||
    |Move the cursor to the beginning of the block|‚Äã<kbd>‚åÉA</kbd>‚Äã|macOS only|
    |Move the cursor to the end of the block|‚Äã<kbd>‚åÉE</kbd>‚Äã|macOS only|
    |Scroll to the top|‚Äã<kbd>Ctrl</kbd>+<kbd>Home</kbd> / <kbd>‚åòHome</kbd>‚Äã||
    |Scroll to the bottom|‚Äã<kbd>Ctrl</kbd>+<kbd>End</kbd> / <kbd>‚åòEnd</kbd>‚Äã<br />||
    |Scroll up one screen|‚Äã<kbd>PageUp</kbd>‚Äã<br />||
    |Scroll down one screen|‚Äã<kbd>PageDown</kbd>‚Äã||
    |Select one by one to the left|‚Äã<kbd>Shift</kbd>+<kbd>‚Üê</kbd> / <kbd>‚áß‚Üê</kbd>‚Äã||
    |Select one by one to the right|‚Äã<kbd>Shift</kbd>+<kbd>‚Üí</kbd> / <kbd>‚áß‚Üí</kbd>‚Äã||
    |Select or deselect block up<br />|‚Äã<kbd>Shift</kbd>+<kbd>‚Üë</kbd> / <kbd>‚áß‚Üë</kbd>‚Äã|<br />|
    |Select or deselect block down|‚Äã<kbd>Shift</kbd>+<kbd>‚Üì</kbd> / <kbd>‚áß‚Üì</kbd>‚Äã||
    |Select blocks up in sequence|‚Äã<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>‚Üë</kbd> / <kbd>‚å•‚áß‚Üë</kbd>‚Äã||
    |Select blocks down in sequence|‚Äã<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>‚Üì</kbd> / <kbd>‚å•‚áß‚Üì</kbd>‚Äã||
    |Collapse/Expand|‚Äã<kbd>Ctrl</kbd>+<kbd>‚Üë</kbd> / <kbd>‚åò‚Üë</kbd>‚Äã||
    |Expand|‚Äã<kbd>Ctrl</kbd>+<kbd>‚Üì</kbd> / <kbd>‚åò‚Üì</kbd>‚Äã||
    |Zoom in|‚Äã<kbd>Alt</kbd>+<kbd>‚Üí</kbd> / <kbd>‚å•‚Üí</kbd>‚Äã|The function in the backlink panel is to open the block where the cursor is located|
    |Zoom out|‚Äã<kbd>Alt</kbd>+<kbd>‚Üê</kbd> / <kbd>‚å•‚Üê</kbd>‚Äã||
    |Select multiple blocks|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã||
    |Delete|‚Äã<kbd>Backspace</kbd>‚Äã||
    |Ref content block|‚Äã<kbd>((</kbd> / <kbd>[[</kbd> / <kbd>Alt</kbd>+<kbd>[</kbd> / <kbd>‚å•[</kbd>‚Äã|‚Äã<kbd>Alt</kbd>+<kbd>[</kbd> / <kbd>‚å•[</kbd> Text content needs to be selected|
    |Embed content block|‚Äã<kbd>{{</kbd>‚Äã||
    |Call up the function menu|‚Äã<kbd>/</kbd>‚Äã||
    |Call up the menu|‚Äã<kbd>Ctrl</kbd>+<kbd>/</kbd> / <kbd>‚åò/</kbd>‚Äã|The cursor evokes the corresponding function menu in the inline element, otherwise it evokes the block menu<br />|
    |Open|‚Äã<kbd>Atl</kbd>+<kbd>,</kbd> / <kbd>‚å•,</kbd>‚Äã|The cursor needs to stay within the reference/hyperlink/asset/PDF annotation reference element|
    |Open in background tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>.</kbd> / <kbd>‚áß‚åò.</kbd>‚Äã|The cursor needs to stay within the referenced element|
    |Open Right the Tab|‚Äã<kbd>Alt</kbd>+<kbd>.</kbd> / <kbd>‚å•.</kbd>‚Äã|The cursor needs to stay within the referenced element|
    |Open Below the Tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>.</kbd> / <kbd>‚å•‚åò.</kbd>‚Äã|The cursor needs to stay within the referenced element|
    |Open in popover|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure, and the cursor needs to stay within the referenced element|
    |Horizontal layout|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Vertical layout|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure<br />|
    |Copy plain text|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Copy text *|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Copy ID|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Copy block hyperlink (Markdown)|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Duplicate|-|For database block is <kbd>Duplicate mirror</kbd>, go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Duplicate completely|-|Available only for database blocks, go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Convert network images to local images|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Convert network assets to local|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Optimize typography|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Exit focus|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Switch read-only mode|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Call up the Artificial Intelligence|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Right to Left (RTL)|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Left to Right (LTR)|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |AI writing|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|
    |Open in New Tab|-|Go to <kbd>Settings</kbd> - <kbd>Shortcuts</kbd> to configure|

    ### Insert element

    |Name|Shortcuts|Memo|
    | -----------------------------| ------------------------------| -----------------------------------------------------------|
    |Emoji|‚Äã<kbd>:</kbd>‚Äã|Text input is required after the <kbd>:</kbd>‚Äã|
    |Block Ref|‚Äã<kbd>Alt</kbd>+<kbd>[</kbd> / <kbd>‚å•[</kbd>‚Äã<br />|Must select content|
    |Bold|‚Äã<kbd>Ctrl</kbd>+<kbd>B</kbd> / <kbd>‚åòB</kbd>‚Äã||
    |Italic|‚Äã<kbd>Ctrl</kbd>+<kbd>I</kbd> / <kbd>‚åòI</kbd>‚Äã||
    |Mark|‚Äã<kbd>Alt</kbd>+<kbd>D</kbd> / <kbd>‚å•D</kbd>‚Äã||
    |Tag|‚Äã<kbd>Ctrl</kbd>+<kbd>T</kbd> / <kbd>‚åòT</kbd>‚Äã||
    |Strikethrough|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd> / <kbd>‚áß‚åòS</kbd>‚Äã||
    |Superscript|‚Äã<kbd>Ctrl</kbd>+<kbd>H</kbd> / <kbd>‚åòH</kbd>‚Äã||
    |Subscript|‚Äã<kbd>Ctrl</kbd>+<kbd>J</kbd> / <kbd>‚åòJ</kbd>‚Äã||
    |Keyboard|‚Äã<kbd>Ctrl</kbd>+<kbd>'</kbd> / <kbd>‚åò'</kbd>‚Äã||
    |Underline|‚Äã<kbd>Ctrl</kbd>+<kbd>U</kbd> / <kbd>‚åòU</kbd>‚Äã||
    |Inline math|‚Äã<kbd>Ctrl</kbd>+<kbd>M</kbd> / <kbd>‚åòM</kbd>‚Äã||
    |Font setting|<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>X</kbd> / <kbd>‚å•‚åòX</kbd>‚Äã||
    |Recently used fonts|‚Äã<kbd>Alt</kbd>+<kbd>X</kbd> / <kbd>‚å•X</kbd>‚Äã|Sets the selection to the most recently used font style<br />|
    |Dividing line|‚Äã<kbd>---</kbd>‚Äã||
    |Code|‚Äã<kbd>Ctrl</kbd>+<kbd>G</kbd> / <kbd>‚åòG</kbd>‚Äã||
    |Blockquote|‚Äã<kbd>&gt;</kbd>‚Äã||
    |Link|‚Äã<kbd>Ctrl</kbd>+<kbd>K</kbd> / <kbd>‚åòK</kbd>‚Äã||
    |Code block|‚Äã<kbd> ```Enter </kbd> / <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd> / <kbd>‚áß‚åòK</kbd>‚Äã||
    |Unordered list|‚Äã<kbd>* </kbd>‚Äã|See below for related shortcuts|
    |Ordered list|‚Äã<kbd>1. </kbd>‚Äã|See below for related shortcuts|
    |Task list|‚Äã<kbd>Ctrl</kbd>+<kbd>L</kbd> / <kbd>‚åòL</kbd> / <kbd>[]</kbd>‚Äã|See below for related shortcuts|
    |Table|‚Äã<kbd>Ctrl</kbd>+<kbd>O</kbd> / <kbd>‚åòO</kbd>‚Äã|See below for related shortcuts|

    ### Heading

    |Name|Shortcuts|
    | ------------------------------------| --------------------------------|
    |Turn into paragraph|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>0</kbd> / <kbd>‚å•‚åò0</kbd>‚Äã|
    |Level 1 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>1</kbd> / <kbd>‚å•‚åò1</kbd>‚Äã|
    |Level 2 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>2</kbd> / <kbd>‚å•‚åò2</kbd>‚Äã|
    |Level 3 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>3</kbd> / <kbd>‚å•‚åò3</kbd>‚Äã|
    |Level 4 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>4</kbd> / <kbd>‚å•‚åò4</kbd>‚Äã|
    |Level 5 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>5</kbd> / <kbd>‚å•‚åò5</kbd>‚Äã|
    |Level 6 heading|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>6</kbd> / <kbd>‚å•‚åò6</kbd>‚Äã|

    ### List

    |Name|Shortcuts|Memo|
    | -------------------------------| -------------------| -------------------------|
    |Indent with sublists|‚Äã<kbd>Tab</kbd>‚Äã||
    |Reverse indent 1|‚Äã<kbd>Shift</kbd>+<kbd>Tab</kbd> / <kbd>‚áß‚á•</kbd>‚Äã||
    |Reverse indent 2|‚Äã<kbd>Delete</kbd>‚Äã|Beginning of the line<br />|
    |Switch between Done and To Do|‚Äã<kbd>Ctrl</kbd>+<kbd>Enter</kbd> / <kbd>‚åòEnter</kbd> / <kbd>Click</kbd>‚Äã|Task list|
    |Insert last child|‚Äã<kbd>Alt</kbd>+<kbd>Enter</kbd> / <kbd>‚å•Enter</kbd>‚Äã||

    ### Table <kbd>Ctrl</kbd>+<kbd>O</kbd> / <kbd>‚åòO</kbd>‚Äã

    |Name|Shortcuts|
    | -----------------------------------------| -----------------|
    |Insert a row above|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> / <kbd>‚áß‚åòT</kbd>‚Äã|
    |Insert a row below|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd> / <kbd>‚áß‚åòD</kbd>‚Äã|
    |Insert a column on the left|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd> / <kbd>‚áß‚åòL</kbd>‚Äã|
    |Insert a column on the right|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd> / <kbd>‚áß‚åòR</kbd>‚Äã|
    |Move row to up|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd> / <kbd>‚å•‚åòT</kbd>‚Äã|
    |Move row to down|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>B</kbd> / <kbd>‚å•‚åòB</kbd>‚Äã|
    |Move column to left|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>L</kbd> / <kbd>‚å•‚åòL</kbd>‚Äã|
    |Move column to right|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>R</kbd> / <kbd>‚å•‚åòR</kbd>‚Äã|
    |Delete row|‚Äã<kbd>Ctrl</kbd>+<kbd>-</kbd> / <kbd>‚åò-</kbd>‚Äã|
    |Delete column|‚Äã<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>-</kbd> / <kbd>‚áß‚åò-</kbd>‚Äã|
    |Move the cursor to the previous element|‚Äã<kbd>Shift</kbd>+<kbd>Tab</kbd> / <kbd>‚áß‚á•</kbd>‚Äã|
    |Move the cursor to the next element|‚Äã<kbd>Tab</kbd> / <kbd>‚á•</kbd>‚Äã|

    ### Code block <kbd> ```Enter </kbd> / <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd> / <kbd>‚áß‚åòK</kbd>‚Äã

    |Name|Shortcuts|
    | --------------| --------------|
    |Set language|‚Äã<kbd>Alt</kbd>+<kbd>Enter</kbd> / <kbd>‚å•Enter</kbd>‚Äã|

    ## Search

    ‚Äã#Note#: To use shortcuts on the search interface.

    |Name|Shortcuts|
    | ---------------------------| ---------------------------|
    |to navigate|‚Äã<kbd>‚Üë</kbd> / <kbd>‚Üì</kbd> / <kbd>PageUp</kbd> / <kbd>PageDown</kbd>‚Äã|
    |New|‚Äã<kbd>Ctrl</kbd>+<kbd>N</kbd> / <kbd>‚åòN</kbd>‚Äã|
    |to open / Show in Folder|‚Äã<kbd>Enter</kbd> / <kbd>Double Click</kbd>‚Äã|
    |to switch to the next hit|‚Äã<kbd>Click</kbd>‚Äã|
    |to open to the right|‚Äã<kbd>Alt</kbd>+<kbd>.</kbd> / <kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•.</kbd> / <kbd>‚å•Click</kbd>‚Äã|
    |to dismiss|‚Äã<kbd>Esc</kbd>‚Äã|

    ## PDF

    ‚Äã#Note#: When using keyboard shortcuts, the focus should be on the PDF. Otherwise, please click on the PDF.

    |Name|Shortcuts|
    | -------------------------------------| -----------------------------------------------|
    |Rectangle bounding box annotation<br />|‚Äã<kbd>Ctrl</kbd>+<kbd>D</kbd> / <kbd>‚åòD</kbd>‚Äã|
    |Rectangle annotation|‚Äã<kbd>Alt</kbd>+<kbd>D</kbd> / <kbd>‚å•D</kbd>‚Äã|
    |Select annotation|‚Äã<kbd>0</kbd> Last used color / <kbd>1-7</kbd> Corresponding color|
    |Search|‚Äã<kbd>Ctrl</kbd>+<kbd>F</kbd> / <kbd>‚åòF</kbd>‚Äã|
    |Search next|‚Äã<kbd>Ctrl</kbd>+<kbd>G</kbd> / <kbd>‚åòG</kbd>‚Äã|
    |Zoom in|‚Äã<kbd>Ctrl</kbd>+<kbd>=</kbd> / <kbd>‚åò=</kbd>‚Äã|
    |Zoom out|‚Äã<kbd>Ctrl</kbd>+<kbd>-</kbd> / <kbd>‚åò-</kbd>‚Äã|
    |Scroll up|‚Äã<kbd>‚Üë</kbd>‚Äã|
    |Scroll down|‚Äã<kbd>‚Üì</kbd>‚Äã|
    |Full screen preview|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd> / <kbd>‚å•‚åòP</kbd>‚Äã|
    |Focus on page number input box|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>G</kbd> / <kbd>‚å•‚åòG</kbd>‚Äã|
    |Previous page|‚Äã<kbd>P</kbd> / <kbd>K</kbd>‚Äã|
    |Next page|‚Äã<kbd>J</kbd> / <kbd>N</kbd>‚Äã|
    |First page|‚Äã<kbd>Home</kbd>‚Äã|
    |Last page|‚Äã<kbd>End</kbd>‚Äã|
    |Text selection tool|‚Äã<kbd>S</kbd>‚Äã|
    |Hand tool|‚Äã<kbd>H</kbd>‚Äã|
    |Rotate clockwise|‚Äã<kbd>R</kbd>‚Äã|
    |Rotate counterclockwise|‚Äã<kbd>Shift</kbd>+<kbd>R</kbd> / <kbd>‚áßR</kbd>‚Äã|
    |Switch sidebar|‚Äã<kbd>F4</kbd>‚Äã|

    ## Use modifier keys for click/drag

    ### Block icon

    |Name|Shortcuts<br />|
    | ----------------------| --------------|
    |Open the menu|‚Äã<kbd>Click</kbd>‚Äã|
    |Zoom in|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã|
    |Collapse/Expand|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã|
    |Attributes<br />|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã|
    |Move|‚Äã<kbd>Drag</kbd>‚Äã|
    |Duplicate|‚Äã<kbd>Ctrl</kbd>+<kbd>Drag</kbd> / <kbd>‚åÉDrag</kbd>‚Äã|
    |Generate block ref|‚Äã<kbd>Alt</kbd>+<kbd>Drag</kbd> / <kbd>‚å•Drag</kbd>‚Äã|
    |Generate embed block|‚Äã<kbd>Shift</kbd>+<kbd>Drag</kbd> / <kbd>‚áßDrag</kbd>‚Äã|

    ### List

    |Name|Shortcuts<br />|Memo|
    | --------------------------------| --------------| ----------------|
    |Move|‚Äã<kbd>Drag</kbd>‚Äã|List item icon|
    |Open the menu|‚Äã<kbd>Click</kbd>‚Äã|List item icon|
    |Zoom in|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã|List item icon|
    |Collapse/expand all siblings<br />|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã|List item icon|
    |Attributes<br />|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã|List item icon|
    |Collapse/expand current level|‚Äã<kbd>Click</kbd>‚Äã|Fold icon|
    |Collapse/expand all sub-levels|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã|Fold icon|

    ### Block Ref / Graph node

    |Name<br />|Shortcuts<br />|Memo|
    | ---------------------------------------------| --------------| --------------------------------------|
    |Open tab|‚Äã<kbd>Click</kbd>‚Äã||
    |Open silently|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã||
    |Open on the right|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã||
    |Open on the bottom|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã||
    |View all references to the definition block|‚Äã<kbd>Shift</kbd>+<kbd>Hover</kbd> / <kbd>‚áßHover</kbd>‚Äã|Only supported on reference elements|

    ### Doc Tree panel

    |Name<br />|Shortcuts<br />|Memo|
    | --------------------| ---------------------------------------| -----------------------------------------------|
    |Open tab|‚Äã<kbd>Click</kbd>‚Äã||
    |Multiple choice|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã||
    |Open on the right|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã<br />||
    |Open on the bottom|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã||
    |Open in new tab|‚Äã<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•‚åòClick</kbd> / Middle mouse button|It needs to be set to open in the current tab|
    |Generate block ref|‚Äã<kbd>Drag</kbd>‚Äã||
    |Move|‚Äã<kbd>Alt</kbd>+<kbd>Drag</kbd> / <kbd>‚å•Drag</kbd>‚Äã||

    ### Tag panel

    |Name|Operation|Notes|
    | ---------------------| -------------| -------|
    |Multi-select Search|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> /<kbd>‚åòClick</kbd>‚Äã||

    ### Search list

    |Name<br />|Shortcuts<br />|
    | -----------------------------------| ----------------|
    |Open tab|‚Äã<kbd>Click</kbd>‚Äã|
    |Open on the right|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã<br />|
    |Show keyword/replace history list|‚Äã<kbd>Alt</kbd>+<kbd>‚Üì</kbd> / <kbd>‚å•‚Üì</kbd>‚Äã|

    ### Local assets / PDF annotation

    |Name<br />|Shortcuts<br />|
    | ---------------------------| --------------|
    |Open tab|‚Äã<kbd>Click</kbd>‚Äã|
    |Open with folder|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã|
    |Open with local program<br />|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã|

    ### Block embed

    |Name<br />|Shortcuts<br />|
    | --------------------| --------------|
    |Pop-up window<br />|‚Äã<kbd>Click</kbd>‚Äã|
    |Open silently|‚Äã<kbd>Ctrl</kbd>+<kbd>Click</kbd> / <kbd>‚åòClick</kbd>‚Äã|
    |Open on the right|‚Äã<kbd>Alt</kbd>+<kbd>Click</kbd> / <kbd>‚å•Click</kbd>‚Äã|
    |Open on the bottom|‚Äã<kbd>Shift</kbd>+<kbd>Click</kbd> / <kbd>‚áßClick</kbd>‚Äã|

    ### Upload assets

    |Name|Shortcuts|
    | --------------------------------------| -----------------------------|
    |Copy and paste|‚Äã<kbd>Ctrl</kbd>+<kbd>C</kbd> ‚Üí <kbd>Ctrl</kbd>+<kbd>V</kbd> / <kbd>‚åòC</kbd> ‚Üí <kbd>‚åòV</kbd>‚Äã|
    |Copy as asset and insert<br />|‚Äã<kbd>Drag</kbd>‚Äã|
    |Use file:// absolute path and link<br />|‚Äã<kbd>Alt</kbd>+<kbd>Drag</kbd> / <kbd>‚å•Drag</kbd> / <kbd>Copy file</kbd> ‚Üí <kbd>Paste as plain text</kbd>‚Äã<br />|

[^70]: # Docker hosting

    ## Overview

    The easiest way to serve SiYuan on a server is to deploy it through Docker.

    - Image name `b3log/siyuan`
    - [Image URL](https://hub.docker.com/r/b3log/siyuan)

    ## File structure

    The overall program is located under `/opt/siyuan/`, which is basically the structure under the resources folder of the Electron installation package:

    - appearance: icon, theme, languages
    - guide: user guide document
    - stage: interface and static resources
    - kernel: kernel program

    ## Entrypoint

    The entry point is set when building the Docker image: `ENTRYPOINT ["/opt/siyuan/kernel" ]`, use `docker run b3log/siyuan` with parameters to start:

    - `--workspace` specifies the workspace folder path, mounted to the container via `-v` on the host

    More parameters can refer to here[^71]. The following is an example of a startup command: `docker run -d -v workspace_dir_host:workspace_dir_container -p 6806:6806 b3log/siyuan --workspace=workspace_dir_container`‚Äã

    - `workspace_dir_host`: the workspace folder path on the host
    - `workspace_dir_container`: The path of the workspace folder in the container, which is the same as specified in `--workspace`

    To simplify, it is recommended to configure the workspace folder path to be consistent on the host and container, such as: `workspace_dir_host` and `workspace_dir_container` are configured as `/siyuan/workspace`, the corresponding startup commands is: `docker run -d -v /siyuan/workspace:/siyuan/workspace -p 6806:6806 -u 1000:1000 b3log/siyuan --workspace=/siyuan/workspace/`.

    ## User permissions

    In the image, the normal user `siyuan` (uid 1000/gid 1000) created by default is used to start the kernel process. Therefore, when the host creates a workspace folder, please pay attention to setting the user group of the folder:  `chown -R 1000:1000 /siyuan/workspace`. The parameter `-u 1000:1000` is required when starting the container.

    ## Hidden port

    Use NGINX reverse proxy to hide port 6806, please note:

    - Configure WebSocket reverse proxy `/ws`

    ## #Note#‚Äã

    - Be sure to confirm the correctness of the mounted volume, otherwise the data will be lost after the container is deleted
    - Do not use URL rewriting for redirection, otherwise there may be problems with authentication, it is recommended to configure a reverse proxy

    ## Limitations

    - Does not support desktop and mobile application connections, only supports use on browsers
    - Export to PDF, HTML and Word formats is not supported
    - Import Markdown file is not supported


[^71]: # Kernel parameter

    ### `--workspace`

    Used to specify the workspace folder path, the default value when not specified is `~/SiYuan/`.

    ### `--wd`

    Kernel working directory path, automatically obtained according to the kernel executable file entry if it is not specified.

    ### `--readonly`

    After specifying with `--readonly=true`, the kernel will run in read-only mode and all write operations will be prohibited.

    ### `--accessAuthCode`

    Used to specify the browser access authentication password[^72], which will overwrite the authCode in conf.json after setting.

    ### `--ssl`

    After using `--ssl=true`, https and wss protocols will be used for serving.

    ### `--lang`

    Using `--lang=zh_CN` will use Simplified Chinese to initialize the appearance language, the default is `en_US`. Currently available values: `zh_CN`, `zh_CHT`, `en_US` and `fr_FR`.

    ### `--mode`

    Use `--mode=dev` to run in development mode, use `--mode=prod` to run in production mode, default `prod`.

    The main difference between development mode and production mode is that development mode uses `working directory/appearance/` as the appearance folder, while production mode uses `workspace/conf/appearance/`.

    ### `--port`‚Äã

    Used to specify the listening port, when not specified:

    - Use random port on desktop
    - Docker/mobile uses `6806`‚Äã


[^72]: In <kbd>Settings</kbd> - <kbd>About</kbd>, you can configure the browser access authentication password. Leaving it blank means that authentication is not enabled. This is more useful in open networks (such as office spaces and public networks), and only after authentication can you enter the work space.


[^73]: # Kernel API

    Please refer to API Doc (github repo: siyuan-note/siyuan).


[^74]: # Share document

    ## Overview

    Share a single document in Markdown format to [Liandi](https://ld246.com) as a post.

    ## How to use

    - You need to register and log in to your Liandi account
    - Click the editor <kbd>Ô∏ô</kbd> menu <kbd>Share to Liandi</kbd>‚Äã

      - Document title as post title
      - Document tags as post tags
      - Documentation exported Markdown as post content with references converted to footnotes
    - After sharing, write the attribute `custom-liandi-articleId` to the document to associate the link post ID

    The assets in the document will be automatically uploaded to the cloud:

    - A single file for free users is less than 3MB
    - A single file for subscribers is less than 10MB

    ## #Note#‚Äã

    - Points are required to share documents to LiuYun, please refer to [point rules](https://liuyun.io/article/1685240430351)
    - Shared assets uploaded to the cloud cannot be deleted


[^75]: # Publish service

    ## Overview

    Joplin supports publishing the content of the current workspace in read-only mode on the local area network.

    ## Usage

    - Open <kbd>Settings</kbd> - <kbd>Publish</kbd> to enter the publishing service settings panel.
    - Set the <kbd>Server port</kbd>‚Äã

      - The default port number is `6808`.
      - If the port number is set to `0`, a random port will be used.
    - If access control is required for the publishing service:

      - Add <kbd>Authenticated accounts</kbd> and enable the <kbd>Service basic authentication</kbd> switch.
      - When enabled, the publishing service will use the [Basic authentication scheme](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#basic_authentication_scheme) to authenticate visitors.

        - Visitors must enter the username and password set in the "Authentication Accounts" before browsing the published content.
    - Enable the <kbd>Publish service</kbd> switch.

    ## #Note#‚Äã

    - After enabling the publishing service, visitors can browse the content of the entire workspace.
    - When <kbd>Service basic authentication</kbd> is disabled, all visitors can browse the content of the entire workspace without authentication.


[^76]: # Mobile App

    ## Overview

    SiYuan provides Android, iOS and HarmonyOS apps, and has been listed on some mobile app stores. Please search for `ÊÄùÊ∫êÁ¨îËÆ∞` or `SiYuan` in the app store.

    ## Installation and updates

    Currently available on the app store:

    - Mi
    - Huawei
    - Honor
    - OPPO
    - vivo
    - Apple
    - Kuan
    - Google Play

    APK download: [https://b3log.org/siyuan/en/download.html](https://b3log.org/siyuan/en/download.html)

    ## Use the marketplace

    Due to App Store review reasons, the marketplace cannot be provided directly on the App at present.

    To use the marketplace, enable <kbd>About</kbd> - <kbd>Network serving</kbd> and access the configuration on your desktop browser.

    ## #Note#‚Äã

    - Uninstalling the App will cause local data to be completely deleted and cannot be recovered
    - To exit the application, please use <kbd>Exit the application</kbd> in the right panel to exit normally. Swiping away directly will force the application to end, resulting in data synchronization not being executed
    - Switching apps on iOS will cause the connection to be interrupted. Please click the button in the prompt box to manually reconnect
    - Please do not switch applications and keep the screen on during data synchronization, otherwise data synchronization will fail

    ## Custom notifications on Android

    In order to keep the background running as much as possible, SiYuan will send notifications regularly. The default notification content is some lyrics that the development team likes.

    If you need to customize it, please follow the steps below:

    1. Create a text file named `android-notification-texts.txt` in the desktop `workspace/data/assets/` folder, where each line will be used as the text of the notification
    2. Synchronize it to the Android side through Data sync[^31]

    After completing these two steps, the notification will use the customized text.


[^77]: # Data Security

    ## Overview

    Data security is mainly divided into two aspects:

    - Availability[^78]: no data loss, keep the data complete and consistent
    - Confidentiality: data will not be leaked or tampered with

    SiYuan supports both of these aspects. The following is an explanation about data security.

    ## Plaintext storage

    SiYuan uses plaintext to store data on the local file system, which means:

    - Anyone or software who can use the operating system can read the data in it
    - The availability of data depends on the availability of hardware disks and operating systems

    ## End-to-end encryption

    SiYuan cloud synchronization use end-to-end encrypted[^27], the password is stored locally with a built-in key encryption, any third party other than the user cannot get the plaintext in the cloud data.

    ## Suggest

    - Regularly back up data, refer to 321 Backup Guidelines (Minimum 3 copies, 2 media, and 1 offline storage)
    - It is recommended to use special software, equipment or offline storage for important passwords, keys or core secrets

    ## Threat Model

    It mainly evaluates local data security and SiYuan cloud storage security.

    ### Premise

    - The local host operating system is a fully trusted environment. This is the most basic premise of data security, and it can only be guaranteed based on this premise.

      - Availability of original data
      - Rriginal data is not leaked
      - Key security
    - Users do not leak keys to attackers
    - Data in cloud storage will not be deleted
    - AES-GCM encryption algorithm is not broken
    - The attacker cannot provide the computing power required for brute force cracking

    ### Cloud storage can guarantee

    - Data can only be decrypted with the correct key
    - Data cannot be decrypted after being tampered with

    ### Normal example

    Based on the above premises and guarantees, the following are examples of what an attacker can achieve.

    If an attacker has read-only access to cloud storage, he can:

    - Get the encrypted data and try brute force cracking
    - Infer data size from index information

    If an attacker is able to hijack the network, then he can:

    - Tampering with data makes data unavailable
    - Get user ID information
    - Infer data size from traffic

    ### Exception example

    If the above premises or guarantees are violated, the following are examples of what an attacker can achieve.

    If an attacker is able to compromise the local host operating system, then he can:

    - Modify or delete the original data, making the original data unavailable
    - Get original data
    - Get the key

    If an attacker has write access to cloud storage, he can:

    - Modify or delete cloud storage, causing cloud storage data to be unavailable


[^78]: # Data Availability Guarantee

    ## Local device

    We've put a lot of effort into improving data availability on local devices:

    - The content changes in the editor will be automatically saved to the disk, and the actual writing time to the disk will vary according to the size of the document. Usually, the final save will be completed within 1 second
    - Support File history[^79]
    - Support Data snapshot[^35]
    - Support complete export and import of Data compressed package
    - It is forbidden to synchronize data through third-party sync disk software to avoid file damage

    Through these efforts, we have tried our best to ensure the availability of data on the local device. But please note that the premise of these guarantees is that the device disk is free from failures and accidents.

    ## Cloud sync

    It is not enough to improve the availability of data on the local device, because the cloud Data sync[^31] is one of the rigid requirements. Data synchronization will affect local device data, so we should try our best to ensure the availability of data after synchronization:

    - Generate a data snapshot before synchronization, if unexpected synchronization results occur, you can roll back through the snapshot
    - If a file conflict occurs during synchronization

      - Automatically generate file history, you can roll back through file history
      - You can also enable  <kbd>Settings</kbd> - <kbd>Cloud</kbd> - <kbd>Generate conflict documentation when syncing conflicts</kbd>‚Äã
    - Support browsing and downloading cloud snapshots in <kbd>Data History</kbd> - <kbd>Data snapshot</kbd> - <kbd>Cloud snapshot</kbd>‚Äã

    ## Summarize

    Through the above safeguards, we hope you will no longer have too many concerns about data availability, please feel free to use it.

    Nevertheless, we still recommend that you refer to the 321 Backup Guidelines (Minimum 3 copies, 2 media, and 1 offline storage).

    Welcome to give us more feedback and suggestions, data availability is the top priority, and we look forward to continuously improving it with everyone's efforts.


[^79]: ## File history

    ### File history generation rules

    - Every 10 minutes, a history will be generated for the documents updated within these 10 minutes (the interval can be set by <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>History Generation Interval</kbd> make adjustments), and the suffix of the history folder is `-update`‚Äã
    - When synchronizing in the cloud, the local data covered by the cloud will generate a history, and the suffix of the history folder is `-sync`‚Äã
    - History will be generated when manually deleting notebooks, documents and assets, and the suffix of the history folder is `-delete`‚Äã
    - When using Cleanup unreferenced assets[^50], a history will be generated, and the suffix of the history folder is `-clean`‚Äã
    - When using the Optimize typography[^48], a history will be generated, and the suffix of the history folder is `-format`‚Äã
    - When using <kbd>Search replace</kbd>, a history will be generated, and the suffix of the history folder is `-replace`‚Äã
    - When dragging an outline item in the outline panel, a history will be generated, and the suffix of the history folder is `-outline`‚Äã


[^80]: # Glossary

    ## Overview

    In SiYuan, some relatively complicated terminology is involved, which can be confusing. In this chapter, we will explain these terms one by one, hoping to help you better understand and use SiYuan.

    Please #Note#, when it comes to specific functions, the following content is mainly introduced on the desktop.

    ## Editor

    ### Breadcrumb

    > Typically, a breadcrumb is an auxiliary element in application navigation, usually in a horizontal sequence at the top or below the top of the page. It shows the path of the user's current location, providing a convenient memory and sense of direction during the user's navigation. Breadcrumbs make it easier for users to navigate the site structure, quickly return to a previous page or a higher-level page, and reduce the chance of invalid clicks and getting lost. It can be used as part of user experience design to improve the usability and ease of use of the application.
    >

    In SiYuan, breadcrumbs refer to the block paths connected by right arrows at the top of the editor, which are used to navigate in the block structure. Each layer starts with a block icon, and the preview floating window can be opened by hovering the mouse.

    ### Anchor text

    > Typically, anchor text refers to the portion of text that is clicked on within a hyperlink, and it is usually blue. The anchor text can be connected with the URL address of the hyperlink. When the user clicks the anchor text, it will automatically jump to the corresponding webpage or file. Anchor text can be any word or phrase, but it should usually be associated with the content being linked, usually the title of the target jump content.
    >

    In SiYuan, we have extended anchor text in the usual sense from hyperlink elements to block quotes and PDF annotation reference elements. In particular, the anchor text of the block quote element is divided into static anchor text and dynamic anchor text. For details, please refer to the Reference Content Block Anchor Text[^81] section.

    ### Editor Mode

    - What you see is what you get: the editor interface under normal circumstances

      - Editable: support modifying content
      - Only read-only: only supports viewing content, does not support modification
    - Export preview: preview after conversion to standard Markdown

    WYSIWYG and export preview mode switches are located in the <kbd>Ô∏ô</kbd> menu in the upper right corner of the editor; WYSIWYG editing and read-only mode switches are located in the upper right corner of the top bar.

    ## Data repository

    ### Key

    The key is used to encrypt data snapshots, there are three ways to generate[^82]. It is recommended that ordinary users use passphrase generation. The same passphrase can generate the same key on other devices to facilitate initial data synchronization.

    ### Local snapshot

    Data snapshots saved locally on the device.

    ### Locally tagged snapshot

    Manually tagged snapshots in local snapshots. The purpose of tagging is to facilitate searching, and a meaningful tag name can serve as a sufficient reminder when rolling back a snapshot.

    ### Cloud snapshot

    Data snapshots saved on cloud storage.

    ### Cloud tagged snapshot

    The data snapshot after the locally tagged snapshot is uploaded to the cloud.

    ## Interface

    ### Dock

    The sidebars on the left, right and bottom of the main interface are used to store the panel entry buttons.

    ### Panel

    Panels refer to functional areas opened from the dock, such as the document tree, outline, and backlinks.

    ### Tab

    Tabs are similar to tabs on a browser, and different types of tabs have different functions.

    #### Editor tab

    Used to load the docs editor.

    #### PDF tab

    Used to load PDFs.

    #### Search tab

    Open the search interface in a tab, so that users can use other tabs at the same time without being blocked by the search window for other work.

    #### Spaced Repeatition tab

    Open the spaced repetition interface in a tab.

    ### Window

    Tabs can be converted into windows independent of the main interface, and windows can be dragged outside the main interface to avoid overcrowding in the main interface.

    By pinning the window, the window can also be placed on top of all applications so that the user can make better use of the limited screen space.

    ### Layout

    The status of the dock bar, tabs, and panels of the current main interface constitutes the layout, and the layout can be saved and switched in the workspace menu in the upper left corner.

    ### Block icon

    Icons appearing in front of blocks, and block labels appearing in the panel support opening the floating preview window by hovering the mouse in most cases, such as the block labels in the outline panel and anti-link panel.

    In addition to the floating preview, the block label also supports <kbd>Ctrl</kbd>+<kbd>Click</kbd> to open in the tab, which is especially useful in scenarios such as anti-link panels that require context jumping.

    ## Other

    ### Serving

    Through the service capabilities provided by the SiYuan kernel use on browser[^16].


[^81]: ## Anchor text

    Anchor text is the text you see when rendering a reference. It is divided into static anchor text and dynamic anchor text:

    - Static anchor text: It will not change with the content of the definition block, that is, the specified content will be displayed fixedly
    - Dynamic anchor text: follow the content of the defined block, the maximum length can be set in <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>The maximum length of block ref dynamic anchor text</kbd> , supports up to `5120` characters

    Here's how to modify anchor text:

    - Move the cursor caret into the reference element and modify the content directly, which will set the reference's anchor text to static anchor text
    - Right-click the reference element and modify the anchor text in the pop-up menu, so that the anchor text obtained is also static anchor text
    - Clear the anchor text in the pop-up menu after right-clicking the reference element, this will use dynamic anchor text

    In the `((` search result list:

    - Direct <kbd>Enter</kbd> or <kbd>Click</kbd> will use dynamic anchor text
    - Press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> or <kbd>Ctrl</kbd>+<kbd>Click</kbd> to use static anchor text


[^82]: - <kbd>Import Key</kbd>: Copy the key string from another device to this paste and import
    - <kbd>Auto-generate key</kbd>: Use random text to generate the key, this method only needs to be executed once on one device, and other devices use <kbd>Import key</kbd>
    - <kbd>Generate key by passphrase</kbd>: Use a custom passphrase to generate the key, which requires the same passphrase on all devices


[^83]: # Performance Optimization

    ## Overview

    The performance on different hardware configurations and different operating system platforms is different. In addition, as the data increases, performance degradation is unavoidable. So we may need to change the way of use and adjust some configuration items to improve performance for a smoother experience.

    ### Overall Performance

    - Number of content blocks: The number of content blocks has a large impact on performance, such as expanding the document tree, searching, and writing data. But don't worry too much, usually the number of content blocks in the order of millions will not have much impact, unless the size of each block is large
    - System environment: the current load of the operating system will affect the overall performance
    - Network environment: The network quality will affect the request response time when using <kbd>Network serving</kbd>‚Äã

    Optimization suggestions:

    - Put infrequently used documents or clipped documents separately into `Archive Notebook` or `Clipped Notebook`, after closing it, the number of database indexes will be reduced to improve performance
    - Decrease <kbd>The number of search results displayed</kbd>, we will monitor the performance of the search request response time, if the response time exceeds the threshold, a pop-up will prompt the user to decrease the configuration item

      The performance monitoring threshold can be set through the environment variable `SIYUAN_PERFORMANCE_TIMING`, in milliseconds, and the default is 15000, which is 15 seconds
    - Maintain sufficient system resources
    - Using a solid-state drive, placing the workspace on a SSD can effectively improve overall performance
    - Upgrade hardware, this is the fastest way to improve performance

    ### Editor Performance

    - Leaf block size: The size of a single leaf block mainly affects the performance of the editor. If a leaf block contains a large number of characters, the editor may freeze
    - The number of dynamically loaded blocks: The number of loaded blocks mainly affects the performance of the editor, especially for the case where there are many formula blocks, code blocks, and chart blocks. If more blocks are loaded, the editor may freeze
    - Code block line number: The code block line number mainly affects the performance of the editor. If a code block has a lot of content and the line number display is turned on, the editor may freeze
    - Formulas, images and charts: Formulas, images and charts mainly affect the performance of the editor. If the document contains a large number of formulas, images and charts, the editor may freeze

    Optimization suggestions:

    - Avoid using too many soft line breaks, although not using soft line breaks will increase the number of blocks, but using less soft line breaks can reduce the size of paragraph blocks and avoid editor lag
    - Reduce <kbd>Number of dynamically loaded blocks</kbd>, especially for scenarios with many formula blocks, code blocks or chart blocks. There is no specific optimal value for this parameter, please refer to your experience after adjustment
    - Improve editor performance by reducing elements with <kbd>Focus</kbd>‚Äã


[^84]: # Extend development

    - Theme[^58] Sample project github repo: siyuan-note/theme-sample
    - Icon[^57] Sample project github repo: siyuan-note/icon-sample
    - widgets[^24] Sample project github repo: siyuan-note/widget-sample
    - plugins[^25] Sample project github repo: siyuan-note/plugin-sample
    - template snippets[^23] Sample project github repo: siyuan-note/template-sample
    - Marketplace github repo: siyuan-note/bazaar
    - [Community Developer Resources](https://docs.siyuan-note.club/)

    ‚Äã#Note#:

    - If plugins or external extensions require direct reading or writing of files under the `data` directory, please use the kernel API to achieve this. **Do not call** **‚Äã`fs`‚Äã** **or other electron or nodejs APIs directly**, as it may result in data loss during synchronization and cause damage to cloud data. Related APIs can be found at: `/api/file/*` (e.g., `/api/file/getFile`)
    - When creating a daily note in SiYuan, a custom-dailynote-yyyymmdd attribute will be automatically added to the document to distinguish it from regular documents.

      > For more details, please refer to Github Issue #9807.
      >

      Developers should pay attention to the following when developing the functionality to manually create Daily Notes:

      - If `/api/filetree/createDailyNote` is called to create a daily note, the attribute will be automatically added to the document, and developers do not need to handle it separately
      - If a document is created manually by developer's code (e.g., using the `createDocWithMd` API to create a daily note), please manually add this attribute to the document


[^85]: # Privacy Policy and User Agreement

    [SiYuan Privacy Policy](https://b3log.org/siyuan/en/privacy.html)

    [User Agreement](https://b3log.org/siyuan/en/eula.html)

    ‚Äç


[^86]: # Acknowledgements

    The birth of SiYuan is inseparable from many open source projects and contributors, please refer to the project source code kernel/go.mod, app/package.json and project homepage.

    The growth of SiYuan is inseparable from user feedback and promotion, thank you for everyone's help to SiYuan ‚ù§Ô∏è


[^87]: - When using HTML blocks, the code in them will be security filtered by default. If filtering is not required, please enable <kbd>Settings</kbd> - <kbd>Editor</kbd> - <kbd>Allow execution of scripts within HTML blocks</kbd>, but please confirm that the code is safe before opening it to avoid cross-site scripting attacks (XSS).
    - Because the Markdown specification has complicated parsing rules for HTML blocks, it is recommended to use `<div></div>` to wrap HTML code and remove blank lines.
